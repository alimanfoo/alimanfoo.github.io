---
layout: post
title: CPU blues
---

<script src="https://cdn.pydata.org/bokeh/release/bokeh-0.11.1.min.js"></script>
<script src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.11.1.min.js"></script>
<script src="https://cdn.pydata.org/bokeh/release/bokeh-compiler-0.11.1.min.js"></script>
<link href="https://cdn.pydata.org/bokeh/release/bokeh-0.11.1.min.css" rel="stylesheet" type="text/css">
<link href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.11.1.min.css" rel="stylesheet" type="text/css">

*Notes on reducing I/O bottlenecks in parallel computations with [Dask](http://dask.pydata.org/en/latest/) and [Zarr](http://zarr.readthedocs.io/en/latest/).*

When I'm analysing data I tend to keep one eye on the system monitor at the top of my screen. The height of the green bar tells me how much RAM I'm using and the height of the blue bar tells me how much CPU...

<p><image src='/assets/Selection_058.png' alt='status bar'/></p>

I'll kick off a computation then look up to see what's happening. Most of the time the blue bar chugs away at 1/8 height, which means that 1 of the 8 logical cores on my computer is fully utilised and the others are idle. I spend a fair amount of time waiting for computations to finish and it started to bug me that 7/8 CPU capacity was going spare. Many of the computations I run are simple and could be parallelized, so I started looking into ways of adapting my analysis code to make better use of multiple CPUs.

## Dask + HDF5

One solution I really like is [Dask](http://dask.pydata.org). Using [``dask.array``](http://dask.pydata.org/en/latest/array.html) it's simple to parallelize a wide range of operations over numerical arrays, using either multiple threads or multiple processes. To evaluate Dask I wrote an alternative [Dask-backed implementation](http://scikit-allel.readthedocs.io/en/latest/model/dask.html) of some of the basic genetic data transformations I use every day. I then ran these on some [data from the Ag1000G project](https://www.malariagen.net/data/ag1000g-phase1-ar3) using Dask's multi-threaded scheduler, hoping to see my idle CPUs fire up to maximum capacity...


{% highlight python %}
import h5py
import multiprocessing
import dask
import dask.array as da
from dask.diagnostics import Profiler, ResourceProfiler, CacheProfiler
from dask.diagnostics.profile_visualize import visualize
from cachey import nbytes
import bokeh
from bokeh.io import output_notebook
output_notebook()
from functools import reduce
import operator
import allel
{% endhighlight %}




{% highlight python %}
# Setup input data. N.B., local storage is SSD.
callset = h5py.File('data/ag1000g.phase1.ar3.pass.3R.h5', mode='r')
genotype = callset['3R/calldata/genotype']
genotype
{% endhighlight %}




    <HDF5 dataset "genotype": shape (13167162, 765, 2), type "|i1">




{% highlight python %}
# check how the data were compressed
genotype.compression, genotype.compression_opts
{% endhighlight %}




    ('gzip', 3)




{% highlight python %}
# how many cores on this computer?
multiprocessing.cpu_count()
{% endhighlight %}




    8




{% highlight python %}
# when I made the HDF5 file I set the chunks too small, so let's operate on bigger chunks
chunks = (genotype.chunks[0], genotype.chunks[1] * 20, genotype.chunks[2])
chunks
{% endhighlight %}




    (6553, 200, 2)




{% highlight python %}
!cat /usr/local/bin/drop_caches
{% endhighlight %}

    #!/bin/bash
    # This must be run as sudo, so to avoid passwords this 
    # script should be set in the sudoers file with NOPASSWD.
    echo 1 > /proc/sys/vm/drop_caches


{% highlight python %}
# ensure OS page cache is cleared 
!sudo drop_caches
{% endhighlight %}


{% highlight python %}
# run the allele count computation via Dask
gd = allel.model.dask.GenotypeDaskArray.from_array(genotype, chunks=chunks)
ac = gd.count_alleles(max_allele=3)
with ResourceProfiler(dt=1) as rprof:
    ac.compute(num_workers=multiprocessing.cpu_count())
visualize(rprof);
{% endhighlight %}




<div class="plotdiv" id="0bb0cf4f-0a21-463e-be6e-3006776898ec"></div>
<script type="text/javascript">
  
  (function(global) {
    function now() {
      return new Date();
    }
  
    if (typeof (window._bokeh_onload_callbacks) === "undefined") {
      window._bokeh_onload_callbacks = [];
    }
  
    function run_callbacks() {
      window._bokeh_onload_callbacks.forEach(function(callback) { callback() });
      delete window._bokeh_onload_callbacks
      console.info("Bokeh: all callbacks have finished");
    }
  
    function load_libs(js_urls, callback) {
      window._bokeh_onload_callbacks.push(callback);
      if (window._bokeh_is_loading > 0) {
        console.log("Bokeh: BokehJS is being loaded, scheduling callback at", now());
        return null;
      }
      if (js_urls == null || js_urls.length === 0) {
        run_callbacks();
        return null;
      }
      console.log("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
      window._bokeh_is_loading = js_urls.length;
      for (var i = 0; i < js_urls.length; i++) {
        var url = js_urls[i];
        var s = document.createElement('script');
        s.src = url;
        s.async = false;
        s.onreadystatechange = s.onload = function() {
          window._bokeh_is_loading--;
          if (window._bokeh_is_loading === 0) {
            console.log("Bokeh: all BokehJS libraries loaded");
            run_callbacks()
          }
        };
        s.onerror = function() {
          console.warn("failed to load library " + url);
        };
        console.log("Bokeh: injecting script tag for BokehJS library: ", url);
        document.getElementsByTagName("head")[0].appendChild(s);
      }
    };var element = document.getElementById("0bb0cf4f-0a21-463e-be6e-3006776898ec");
    if (element == null) {
      console.log("Bokeh: ERROR: autoload.js configured with elementid '0bb0cf4f-0a21-463e-be6e-3006776898ec' but no matching script tag was found. ")
      return false;
    }
  
    var js_urls = [];
  
    var inline_js = [
      function(Bokeh) {
        Bokeh.$(function() {
            var docs_json = {"3cfee2eb-4098-4243-a1ee-8baf2fcd61c4":{"roots":{"references":[{"attributes":{"data_source":{"id":"516c8d63-4020-42ea-a5ee-2780910c6f49","type":"ColumnDataSource"},"glyph":{"id":"0b41ca56-601f-4470-9870-7c481b9bb8d4","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"981755b0-50bf-45c4-82e8-30aebd5d23ae","type":"Line"},"selection_glyph":null},"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"},{"attributes":{"legends":[["% CPU",[{"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"}]],["Memory",[{"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"}]]],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"b2c34c1b-c54d-4eac-b0fd-306dc57eeeda","type":"Legend"},{"attributes":{"callback":null,"end":77.10554918100024},"id":"88c0e3ea-79f7-423c-ad84-81184f59a45f","type":"Range1d"},{"attributes":{"below":[{"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"d7ed29e2-4e94-44af-a29b-422bedb77614","type":"Range1d"}},"left":[{"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"},{"id":"b24bd57f-b7b1-461b-bdcc-b6293aa6c0ad","type":"Grid"},{"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"},{"id":"e286d0b3-e6bf-4aa2-bf60-6f664c3e59d7","type":"Grid"},{"id":"b2c34c1b-c54d-4eac-b0fd-306dc57eeeda","type":"Legend"},{"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"},{"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"},{"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"}],"right":[{"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"7051cf75-e42f-40ea-9651-82a01e087e40","type":"ToolEvents"},"tools":[{"id":"5ca0c5a9-c495-46ea-89f7-3a4a367a87ca","type":"PreviewSaveTool"},{"id":"577c6cfc-2502-42e8-b984-bb0c29ba6efd","type":"ResetTool"},{"id":"5cc76367-0185-442d-8657-d82389af2075","type":"ResizeTool"},{"id":"a660886d-9750-4244-9476-e66bb4fcb74e","type":"WheelZoomTool"},{"id":"61f9eece-b20a-45fd-985f-a3d03e4ece68","type":"PanTool"}],"x_range":{"id":"88c0e3ea-79f7-423c-ad84-81184f59a45f","type":"Range1d"},"y_range":{"id":"fdf34fbd-7975-4ace-afba-98d4458ad520","type":"Range1d"}},"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"49d719d9-2663-4001-af6b-4de02e486a74","type":"ColumnDataSource"},"glyph":{"id":"bc8ab5fa-df63-4f00-adac-c51871eda48e","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"508195b0-9778-48d1-a167-a2ea03ae30d7","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"bc8ab5fa-df63-4f00-adac-c51871eda48e","type":"Line"},{"attributes":{"dimensions":["width"],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"a660886d-9750-4244-9476-e66bb4fcb74e","type":"WheelZoomTool"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"24701fbd-d33e-4ef8-a5a3-e56e53a21a6b","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"9427d135-5723-432d-8ebb-93968f85a9a5","type":"BasicTicker"},"y_range_name":"memory"},"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"},{"attributes":{},"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0135510800000702,2.013942878999842,3.0152597280002738,4.016524435000065,5.017921268999999,6.019228870999541,7.020527898999717,8.021817383999405,9.023133808000239,10.024012222000238,11.02529885199965,12.026611796999532,13.027873502000148,14.029220548000012,15.030044266000004,16.031310898999436,17.032585361999736,18.033854653000162,19.035136315999807,20.03646444900005,21.037771784000142,22.039084873999855,23.04039633100001,24.041670554999655,25.042087030999937,26.04337097000007,27.044635510999797,28.045981856999788,29.047259826999834,30.048519316000238,31.049779412000134,32.05115518899947,33.05241398999988,34.05345779700019,35.05407050199938,36.05537967199962,37.05666489899977,38.058009794999634,39.05935806100024,40.06064376199993,41.06192095799997,42.06319961400004,43.06445408899981,44.06571151099979,45.06606845999977,46.06732114599981,47.0677623900001,48.069048071,49.07039917400016,50.07171326400021,51.072963693999554,52.07406192599956,53.075356524999734,54.07664151500012,55.07795459599947,56.07926128700001,57.08052644599957,58.08178818899978,59.0828762229994,60.084138585999426,61.08538540999962,62.086642381000274,63.08793555699958,64.08921570099938,65.09008079700016,66.09136235599999,67.09263568200004,68.09393601299962,69.09522888599986,70.09654074399987,71.09781714000019,72.09922687000017,73.10056315099973,74.10194202799994,75.10323477200018,76.10425843400026,77.10554918100024],"y":[0.0,98.7,91.0,85.9,96.9,94.9,97.9,100.9,98.9,97.9,94.9,96.9,105.9,102.9,98.9,107.9,104.9,94.9,104.9,109.9,106.9,92.9,103.9,106.9,111.9,104.0,107.9,100.9,106.9,102.9,106.9,110.9,104.9,106.9,104.9,112.9,101.9,109.9,107.9,106.9,109.9,107.9,107.9,113.9,107.9,108.0,106.9,112.9,115.8,105.9,110.9,118.8,113.9,113.9,112.9,113.8,113.9,116.9,114.9,117.9,116.9,119.9,103.9,112.9,115.8,116.9,117.9,116.9,122.8,121.8,107.9,121.8,119.8,119.8,125.8,117.8,127.9,122.8]}},"id":"516c8d63-4020-42ea-a5ee-2780910c6f49","type":"ColumnDataSource"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"508195b0-9778-48d1-a167-a2ea03ae30d7","type":"Line"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"5ca0c5a9-c495-46ea-89f7-3a4a367a87ca","type":"PreviewSaveTool"},{"attributes":{"dimensions":["width"],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"61f9eece-b20a-45fd-985f-a3d03e4ece68","type":"PanTool"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"577c6cfc-2502-42e8-b984-bb0c29ba6efd","type":"ResetTool"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"5cc76367-0185-442d-8657-d82389af2075","type":"ResizeTool"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"0882b550-b19b-4d0e-b954-92f92f49334b","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"}},"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"981755b0-50bf-45c4-82e8-30aebd5d23ae","type":"Line"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"}},"id":"b24bd57f-b7b1-461b-bdcc-b6293aa6c0ad","type":"Grid"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"0b41ca56-601f-4470-9870-7c481b9bb8d4","type":"Line"},{"attributes":{},"id":"9427d135-5723-432d-8ebb-93968f85a9a5","type":"BasicTicker"},{"attributes":{},"id":"149cea2a-7604-4933-a310-968747a6d629","type":"BasicTickFormatter"},{"attributes":{},"id":"24701fbd-d33e-4ef8-a5a3-e56e53a21a6b","type":"BasicTickFormatter"},{"attributes":{},"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"149cea2a-7604-4933-a310-968747a6d629","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"}},"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0135510800000702,2.013942878999842,3.0152597280002738,4.016524435000065,5.017921268999999,6.019228870999541,7.020527898999717,8.021817383999405,9.023133808000239,10.024012222000238,11.02529885199965,12.026611796999532,13.027873502000148,14.029220548000012,15.030044266000004,16.031310898999436,17.032585361999736,18.033854653000162,19.035136315999807,20.03646444900005,21.037771784000142,22.039084873999855,23.04039633100001,24.041670554999655,25.042087030999937,26.04337097000007,27.044635510999797,28.045981856999788,29.047259826999834,30.048519316000238,31.049779412000134,32.05115518899947,33.05241398999988,34.05345779700019,35.05407050199938,36.05537967199962,37.05666489899977,38.058009794999634,39.05935806100024,40.06064376199993,41.06192095799997,42.06319961400004,43.06445408899981,44.06571151099979,45.06606845999977,46.06732114599981,47.0677623900001,48.069048071,49.07039917400016,50.07171326400021,51.072963693999554,52.07406192599956,53.075356524999734,54.07664151500012,55.07795459599947,56.07926128700001,57.08052644599957,58.08178818899978,59.0828762229994,60.084138585999426,61.08538540999962,62.086642381000274,63.08793555699958,64.08921570099938,65.09008079700016,66.09136235599999,67.09263568200004,68.09393601299962,69.09522888599986,70.09654074399987,71.09781714000019,72.09922687000017,73.10056315099973,74.10194202799994,75.10323477200018,76.10425843400026,77.10554918100024],"y":[228.61824,289.886208,297.426944,301.494272,307.441664,312.266752,318.23872,326.4512,333.398016,341.610496,346.206208,351.870976,358.023168,363.175936,366.583808,379.82208,383.504384,389.423104,387.612672,400.9984,406.945792,411.000832,416.129024,426.04544,430.10048,437.129216,443.61728,448.622592,453.685248,463.417344,466.644992,471.781376,478.199808,483.86048,494.403584,496.39424,501.526528,513.769472,514.441216,524.435456,536.059904,536.825856,542.80192,550.42048,556.494848,561.872896,569.32352,576.155648,584.634368,587.608064,596.041728,603.967488,608.19456,617.992192,619.700224,629.444608,632.127488,639.418368,647.72096,655.83104,665.829376,669.843456,678.223872,682.76224,688.689152,698.691584,705.98656,711.933952,716.570624,727.461888,733.724672,741.76512,743.91552,755.298304,760.000512,767.832064,776.032256,771.571712]}},"id":"49d719d9-2663-4001-af6b-4de02e486a74","type":"ColumnDataSource"},{"attributes":{"callback":null,"end":776.032256,"start":228.61824},"id":"d7ed29e2-4e94-44af-a29b-422bedb77614","type":"Range1d"},{"attributes":{"callback":null,"end":127.9},"id":"fdf34fbd-7975-4ace-afba-98d4458ad520","type":"Range1d"},{"attributes":{},"id":"7051cf75-e42f-40ea-9651-82a01e087e40","type":"ToolEvents"},{"attributes":{},"id":"0882b550-b19b-4d0e-b954-92f92f49334b","type":"BasicTickFormatter"},{"attributes":{"dimension":1,"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"}},"id":"e286d0b3-e6bf-4aa2-bf60-6f664c3e59d7","type":"Grid"}],"root_ids":["1d37b62f-1d83-4c53-b80e-496881e1e188"]},"title":"Bokeh Application","version":"0.11.1"}};
            var render_items = [{"docid":"3cfee2eb-4098-4243-a1ee-8baf2fcd61c4","elementid":"0bb0cf4f-0a21-463e-be6e-3006776898ec","modelid":"1d37b62f-1d83-4c53-b80e-496881e1e188","notebook_comms_target":"7dbc8b6e-4bd3-4628-8bad-85c88e9a3cdf"}];
            
            Bokeh.embed.embed_items(docs_json, render_items);
        });
      },
      function(Bokeh) {
      }
    ];
  
    function run_inline_js() {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i](window.Bokeh);
      }
    }
  
    if (window._bokeh_is_loading === 0) {
      console.log("Bokeh: BokehJS loaded, going straight to plotting");
      run_inline_js();
    } else {
      load_libs(js_urls, function() {
        console.log("Bokeh: BokehJS plotting callback run at", now());
        run_inline_js();
      });
    }
  }(this));
</script>


As you can see from the plot above, this computation uses ~1 core (100% CPU). The limiting factor is related to I/O. This includes raw I/O managed by the operating system, but also layers above, including [h5py](h5py.org) which I've used to pull input data out of an [HDF5 file](https://www.hdfgroup.org/HDF5/). The h5py library is a totally awesome piece of software that I use every day, but HDF5 is not designed to support multi-threaded data access. Also, h5py doesn't release the [GIL](https://wiki.python.org/moin/GlobalInterpreterLock), a Python technicality which means other threads cannot run while h5py is doing anything, even if the other threads want to do something unrelated to HDF5 I/O.

To isolate the limitations due to h5py/HDF5, let's rerun the same computation, but this time without clearing the OS page cache...


{% highlight python %}
with ResourceProfiler(dt=1) as rprof:
    ac.compute(num_workers=multiprocessing.cpu_count())
visualize(rprof);
{% endhighlight %}




<div class="plotdiv" id="f611838b-ab4d-4c12-8892-ecf4b0030d6e"></div>
<script type="text/javascript">
  
  (function(global) {
    function now() {
      return new Date();
    }
  
    if (typeof (window._bokeh_onload_callbacks) === "undefined") {
      window._bokeh_onload_callbacks = [];
    }
  
    function run_callbacks() {
      window._bokeh_onload_callbacks.forEach(function(callback) { callback() });
      delete window._bokeh_onload_callbacks
      console.info("Bokeh: all callbacks have finished");
    }
  
    function load_libs(js_urls, callback) {
      window._bokeh_onload_callbacks.push(callback);
      if (window._bokeh_is_loading > 0) {
        console.log("Bokeh: BokehJS is being loaded, scheduling callback at", now());
        return null;
      }
      if (js_urls == null || js_urls.length === 0) {
        run_callbacks();
        return null;
      }
      console.log("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
      window._bokeh_is_loading = js_urls.length;
      for (var i = 0; i < js_urls.length; i++) {
        var url = js_urls[i];
        var s = document.createElement('script');
        s.src = url;
        s.async = false;
        s.onreadystatechange = s.onload = function() {
          window._bokeh_is_loading--;
          if (window._bokeh_is_loading === 0) {
            console.log("Bokeh: all BokehJS libraries loaded");
            run_callbacks()
          }
        };
        s.onerror = function() {
          console.warn("failed to load library " + url);
        };
        console.log("Bokeh: injecting script tag for BokehJS library: ", url);
        document.getElementsByTagName("head")[0].appendChild(s);
      }
    };var element = document.getElementById("f611838b-ab4d-4c12-8892-ecf4b0030d6e");
    if (element == null) {
      console.log("Bokeh: ERROR: autoload.js configured with elementid 'f611838b-ab4d-4c12-8892-ecf4b0030d6e' but no matching script tag was found. ")
      return false;
    }
  
    var js_urls = [];
  
    var inline_js = [
      function(Bokeh) {
        Bokeh.$(function() {
            var docs_json = {"f7908bd6-2b8a-49c5-bb31-08ae0d4e8284":{"roots":{"references":[{"attributes":{"legends":[["% CPU",[{"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"}]],["Memory",[{"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"}]]],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"b2c34c1b-c54d-4eac-b0fd-306dc57eeeda","type":"Legend"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"443cba9b-8997-4ab2-9325-33395caca74d","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"55633df7-d77e-457d-967b-6ed4dd8fe565","type":"BasicTicker"},"y_range_name":"memory"},"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"},{"attributes":{"below":[{"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"d7ed29e2-4e94-44af-a29b-422bedb77614","type":"Range1d"}},"left":[{"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"},{"id":"b24bd57f-b7b1-461b-bdcc-b6293aa6c0ad","type":"Grid"},{"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"},{"id":"e286d0b3-e6bf-4aa2-bf60-6f664c3e59d7","type":"Grid"},{"id":"b2c34c1b-c54d-4eac-b0fd-306dc57eeeda","type":"Legend"},{"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"},{"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"},{"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"}],"right":[{"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"7051cf75-e42f-40ea-9651-82a01e087e40","type":"ToolEvents"},"tools":[{"id":"5ca0c5a9-c495-46ea-89f7-3a4a367a87ca","type":"PreviewSaveTool"},{"id":"577c6cfc-2502-42e8-b984-bb0c29ba6efd","type":"ResetTool"},{"id":"5cc76367-0185-442d-8657-d82389af2075","type":"ResizeTool"},{"id":"a660886d-9750-4244-9476-e66bb4fcb74e","type":"WheelZoomTool"},{"id":"61f9eece-b20a-45fd-985f-a3d03e4ece68","type":"PanTool"}],"x_range":{"id":"88c0e3ea-79f7-423c-ad84-81184f59a45f","type":"Range1d"},"y_range":{"id":"fdf34fbd-7975-4ace-afba-98d4458ad520","type":"Range1d"}},"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"49d719d9-2663-4001-af6b-4de02e486a74","type":"ColumnDataSource"},"glyph":{"id":"bc8ab5fa-df63-4f00-adac-c51871eda48e","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"508195b0-9778-48d1-a167-a2ea03ae30d7","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"bc8ab5fa-df63-4f00-adac-c51871eda48e","type":"Line"},{"attributes":{"dimensions":["width"],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"a660886d-9750-4244-9476-e66bb4fcb74e","type":"WheelZoomTool"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"7473dbfc-b124-4c91-af3e-aeb196c7326e","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"}},"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"},{"attributes":{},"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0135510800000702,2.013942878999842,3.0152597280002738,4.016524435000065,5.017921268999999,6.019228870999541,7.020527898999717,8.021817383999405,9.023133808000239,10.024012222000238,11.02529885199965,12.026611796999532,13.027873502000148,14.029220548000012,15.030044266000004,16.031310898999436,17.032585361999736,18.033854653000162,19.035136315999807,20.03646444900005,21.037771784000142,22.039084873999855,23.04039633100001,24.041670554999655,25.042087030999937,26.04337097000007,27.044635510999797,28.045981856999788,29.047259826999834,30.048519316000238,31.049779412000134,32.05115518899947,33.05241398999988,34.05345779700019,35.05407050199938,36.05537967199962,37.05666489899977,38.058009794999634,39.05935806100024,40.06064376199993,41.06192095799997,42.06319961400004,43.06445408899981,44.06571151099979,45.06606845999977,46.06732114599981,47.0677623900001,48.069048071,49.07039917400016,50.07171326400021,51.072963693999554,52.07406192599956,53.075356524999734,54.07664151500012,55.07795459599947,56.07926128700001,57.08052644599957,58.08178818899978,59.0828762229994,60.084138585999426,61.08538540999962,62.086642381000274,63.08793555699958,64.08921570099938,65.09008079700016,66.09136235599999,67.09263568200004,68.09393601299962,69.09522888599986,70.09654074399987,71.09781714000019,72.09922687000017,73.10056315099973,74.10194202799994,75.10323477200018,76.10425843400026,77.10554918100024],"y":[0.0,98.7,91.0,85.9,96.9,94.9,97.9,100.9,98.9,97.9,94.9,96.9,105.9,102.9,98.9,107.9,104.9,94.9,104.9,109.9,106.9,92.9,103.9,106.9,111.9,104.0,107.9,100.9,106.9,102.9,106.9,110.9,104.9,106.9,104.9,112.9,101.9,109.9,107.9,106.9,109.9,107.9,107.9,113.9,107.9,108.0,106.9,112.9,115.8,105.9,110.9,118.8,113.9,113.9,112.9,113.8,113.9,116.9,114.9,117.9,116.9,119.9,103.9,112.9,115.8,116.9,117.9,116.9,122.8,121.8,107.9,121.8,119.8,119.8,125.8,117.8,127.9,122.8]}},"id":"516c8d63-4020-42ea-a5ee-2780910c6f49","type":"ColumnDataSource"},{"attributes":{"callback":null,"end":776.032256,"start":228.61824},"id":"d7ed29e2-4e94-44af-a29b-422bedb77614","type":"Range1d"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0126720180005577,2.013911607999944,3.015206441000373,4.0164325100004135,5.0177076270001635,6.018979396000759,7.020306979999987,8.021615334000671,9.022917589000826,10.02417941100066,11.02548157000001,12.026828859000489,13.028267953000068,14.02957323100054,15.030842904000565,16.032118297000125,17.033490238000013,18.034768228000758,19.036093790999985,20.037438420999933,21.038711508000233,22.039984742000343,23.04125255300005,24.042288111000744,25.043596869000794,26.044867279000755,27.046210215999963,28.046716122000362,29.04734337300033,30.048453833000167,31.049746932000744,32.051057813000625,33.05233316600061,34.05368161500064,35.05497923100029,36.05628922200049,37.0577022740008,38.058551429000545,39.05980304000059,40.0604355710002,41.06173267000031,42.06306555400079,43.06443460900027,44.065744965000704],"y":[1302.884352,1356.591104,1366.97856,1381.203968,1388.142592,1398.808576,1411.612672,1422.155776,1430.900736,1442.082816,1454.096384,1464.266752,1478.664192,1483.124736,1497.104384,1508.020224,1521.270784,1532.8256,1542.930432,1555.6608,1565.155328,1574.375424,1588.314112,1601.26976,1613.017088,1623.216128,1635.065856,1648.2304,1656.15616,1667.223552,1678.90944,1692.606464,1701.330944,1714.83136,1724.84608,1736.00768,1742.364672,1758.040064,1768.300544,1780.736,1791.36512,1799.675904,1815.609344,1826.476032,1835.99104]}},"id":"e7a5e59a-cc40-4a82-b271-e083a8c75e1a","type":"ColumnDataSource"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"0882b550-b19b-4d0e-b954-92f92f49334b","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"}},"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"577c6cfc-2502-42e8-b984-bb0c29ba6efd","type":"ResetTool"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"5cc76367-0185-442d-8657-d82389af2075","type":"ResizeTool"},{"attributes":{"data_source":{"id":"e7a5e59a-cc40-4a82-b271-e083a8c75e1a","type":"ColumnDataSource"},"glyph":{"id":"82e8d81d-b6a3-4cdd-b295-36106ec019a1","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"43a10572-c736-4eac-824d-2bc9d8e0a953","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"981755b0-50bf-45c4-82e8-30aebd5d23ae","type":"Line"},{"attributes":{},"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"},{"attributes":{"callback":null,"end":1835.99104,"start":1302.884352},"id":"21494bf7-f098-4aba-b432-4fa0b824ee5b","type":"Range1d"},{"attributes":{},"id":"9427d135-5723-432d-8ebb-93968f85a9a5","type":"BasicTicker"},{"attributes":{},"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"827641a7-0c16-4865-8b75-0b14caa793d2","type":"ResizeTool"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0126720180005577,2.013911607999944,3.015206441000373,4.0164325100004135,5.0177076270001635,6.018979396000759,7.020306979999987,8.021615334000671,9.022917589000826,10.02417941100066,11.02548157000001,12.026828859000489,13.028267953000068,14.02957323100054,15.030842904000565,16.032118297000125,17.033490238000013,18.034768228000758,19.036093790999985,20.037438420999933,21.038711508000233,22.039984742000343,23.04125255300005,24.042288111000744,25.043596869000794,26.044867279000755,27.046210215999963,28.046716122000362,29.04734337300033,30.048453833000167,31.049746932000744,32.051057813000625,33.05233316600061,34.05368161500064,35.05497923100029,36.05628922200049,37.0577022740008,38.058551429000545,39.05980304000059,40.0604355710002,41.06173267000031,42.06306555400079,43.06443460900027,44.065744965000704],"y":[0.0,129.4,191.8,189.8,191.8,188.8,190.8,186.8,188.8,189.8,189.8,191.8,184.7,185.7,191.8,191.8,190.7,190.7,191.7,189.7,191.7,190.8,191.8,190.8,190.8,189.8,191.8,190.7,189.9,193.9,189.8,189.8,191.7,188.7,192.7,191.8,189.7,191.7,190.8,190.8,187.9,191.8,190.7,189.7,188.7]}},"id":"0e76dd1d-1977-475f-a57b-b1ceb9023fa9","type":"ColumnDataSource"},{"attributes":{},"id":"7473dbfc-b124-4c91-af3e-aeb196c7326e","type":"BasicTickFormatter"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"b50c5576-229a-44cd-a3c6-7797a2839c33","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"}},"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"5ca0c5a9-c495-46ea-89f7-3a4a367a87ca","type":"PreviewSaveTool"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"43a10572-c736-4eac-824d-2bc9d8e0a953","type":"Line"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0135510800000702,2.013942878999842,3.0152597280002738,4.016524435000065,5.017921268999999,6.019228870999541,7.020527898999717,8.021817383999405,9.023133808000239,10.024012222000238,11.02529885199965,12.026611796999532,13.027873502000148,14.029220548000012,15.030044266000004,16.031310898999436,17.032585361999736,18.033854653000162,19.035136315999807,20.03646444900005,21.037771784000142,22.039084873999855,23.04039633100001,24.041670554999655,25.042087030999937,26.04337097000007,27.044635510999797,28.045981856999788,29.047259826999834,30.048519316000238,31.049779412000134,32.05115518899947,33.05241398999988,34.05345779700019,35.05407050199938,36.05537967199962,37.05666489899977,38.058009794999634,39.05935806100024,40.06064376199993,41.06192095799997,42.06319961400004,43.06445408899981,44.06571151099979,45.06606845999977,46.06732114599981,47.0677623900001,48.069048071,49.07039917400016,50.07171326400021,51.072963693999554,52.07406192599956,53.075356524999734,54.07664151500012,55.07795459599947,56.07926128700001,57.08052644599957,58.08178818899978,59.0828762229994,60.084138585999426,61.08538540999962,62.086642381000274,63.08793555699958,64.08921570099938,65.09008079700016,66.09136235599999,67.09263568200004,68.09393601299962,69.09522888599986,70.09654074399987,71.09781714000019,72.09922687000017,73.10056315099973,74.10194202799994,75.10323477200018,76.10425843400026,77.10554918100024],"y":[228.61824,289.886208,297.426944,301.494272,307.441664,312.266752,318.23872,326.4512,333.398016,341.610496,346.206208,351.870976,358.023168,363.175936,366.583808,379.82208,383.504384,389.423104,387.612672,400.9984,406.945792,411.000832,416.129024,426.04544,430.10048,437.129216,443.61728,448.622592,453.685248,463.417344,466.644992,471.781376,478.199808,483.86048,494.403584,496.39424,501.526528,513.769472,514.441216,524.435456,536.059904,536.825856,542.80192,550.42048,556.494848,561.872896,569.32352,576.155648,584.634368,587.608064,596.041728,603.967488,608.19456,617.992192,619.700224,629.444608,632.127488,639.418368,647.72096,655.83104,665.829376,669.843456,678.223872,682.76224,688.689152,698.691584,705.98656,711.933952,716.570624,727.461888,733.724672,741.76512,743.91552,755.298304,760.000512,767.832064,776.032256,771.571712]}},"id":"49d719d9-2663-4001-af6b-4de02e486a74","type":"ColumnDataSource"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"82e8d81d-b6a3-4cdd-b295-36106ec019a1","type":"Line"},{"attributes":{},"id":"7051cf75-e42f-40ea-9651-82a01e087e40","type":"ToolEvents"},{"attributes":{},"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"},{"attributes":{"dimension":1,"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"}},"id":"e286d0b3-e6bf-4aa2-bf60-6f664c3e59d7","type":"Grid"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"24701fbd-d33e-4ef8-a5a3-e56e53a21a6b","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"9427d135-5723-432d-8ebb-93968f85a9a5","type":"BasicTicker"},"y_range_name":"memory"},"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"},{"attributes":{"legends":[["% CPU",[{"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"}]],["Memory",[{"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"}]]],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"134bbbda-420a-4102-a37b-9cc5725d7aa9","type":"Legend"},{"attributes":{"callback":null,"end":193.9},"id":"aee706fe-5b0d-45ad-b01e-0595b56cb272","type":"Range1d"},{"attributes":{},"id":"0882b550-b19b-4d0e-b954-92f92f49334b","type":"BasicTickFormatter"},{"attributes":{"data_source":{"id":"516c8d63-4020-42ea-a5ee-2780910c6f49","type":"ColumnDataSource"},"glyph":{"id":"0b41ca56-601f-4470-9870-7c481b9bb8d4","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"981755b0-50bf-45c4-82e8-30aebd5d23ae","type":"Line"},"selection_glyph":null},"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"},{"attributes":{},"id":"513c1ecc-9b03-40de-ba9d-3fd85ccad57e","type":"ToolEvents"},{"attributes":{},"id":"b50c5576-229a-44cd-a3c6-7797a2839c33","type":"BasicTickFormatter"},{"attributes":{"dimension":1,"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"}},"id":"6973629f-d932-4ac6-bbaf-9854588d9108","type":"Grid"},{"attributes":{"below":[{"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"21494bf7-f098-4aba-b432-4fa0b824ee5b","type":"Range1d"}},"left":[{"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"},{"id":"27476d00-7b03-4a4d-9328-cdd91d34d3bd","type":"Grid"},{"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"},{"id":"6973629f-d932-4ac6-bbaf-9854588d9108","type":"Grid"},{"id":"134bbbda-420a-4102-a37b-9cc5725d7aa9","type":"Legend"},{"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"},{"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"},{"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"}],"right":[{"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"513c1ecc-9b03-40de-ba9d-3fd85ccad57e","type":"ToolEvents"},"tools":[{"id":"14c1d1bd-6b7f-49a6-b9c2-4938da57f0f5","type":"PreviewSaveTool"},{"id":"58d9beec-dbf1-4dee-8c77-c8e17e619084","type":"ResetTool"},{"id":"827641a7-0c16-4865-8b75-0b14caa793d2","type":"ResizeTool"},{"id":"5c8c889f-3b3e-4315-a6e2-c68465216c51","type":"WheelZoomTool"},{"id":"855e855d-fdc2-4f82-9987-d5272a8b16d5","type":"PanTool"}],"x_range":{"id":"87bbf21d-5b7e-4de5-8c79-b8cf3f1e898b","type":"Range1d"},"y_range":{"id":"aee706fe-5b0d-45ad-b01e-0595b56cb272","type":"Range1d"}},"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},{"attributes":{"callback":null,"end":77.10554918100024},"id":"88c0e3ea-79f7-423c-ad84-81184f59a45f","type":"Range1d"},{"attributes":{"dimensions":["width"],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"5c8c889f-3b3e-4315-a6e2-c68465216c51","type":"WheelZoomTool"},{"attributes":{"dimensions":["width"],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"61f9eece-b20a-45fd-985f-a3d03e4ece68","type":"PanTool"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"508195b0-9778-48d1-a167-a2ea03ae30d7","type":"Line"},{"attributes":{"callback":null,"end":127.9},"id":"fdf34fbd-7975-4ace-afba-98d4458ad520","type":"Range1d"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"}},"id":"b24bd57f-b7b1-461b-bdcc-b6293aa6c0ad","type":"Grid"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"0b41ca56-601f-4470-9870-7c481b9bb8d4","type":"Line"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"14c1d1bd-6b7f-49a6-b9c2-4938da57f0f5","type":"PreviewSaveTool"},{"attributes":{},"id":"443cba9b-8997-4ab2-9325-33395caca74d","type":"BasicTickFormatter"},{"attributes":{},"id":"149cea2a-7604-4933-a310-968747a6d629","type":"BasicTickFormatter"},{"attributes":{},"id":"24701fbd-d33e-4ef8-a5a3-e56e53a21a6b","type":"BasicTickFormatter"},{"attributes":{},"id":"55633df7-d77e-457d-967b-6ed4dd8fe565","type":"BasicTicker"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"58d9beec-dbf1-4dee-8c77-c8e17e619084","type":"ResetTool"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"149cea2a-7604-4933-a310-968747a6d629","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"}},"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"},{"attributes":{"dimensions":["width"],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"855e855d-fdc2-4f82-9987-d5272a8b16d5","type":"PanTool"},{"attributes":{"data_source":{"id":"0e76dd1d-1977-475f-a57b-b1ceb9023fa9","type":"ColumnDataSource"},"glyph":{"id":"c7f06f8b-f025-4dcd-94f0-882292ca1303","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"55ebb339-b7d1-4acb-8407-dcf9a3193065","type":"Line"},"selection_glyph":null},"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"55ebb339-b7d1-4acb-8407-dcf9a3193065","type":"Line"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"c7f06f8b-f025-4dcd-94f0-882292ca1303","type":"Line"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"}},"id":"27476d00-7b03-4a4d-9328-cdd91d34d3bd","type":"Grid"},{"attributes":{"callback":null,"end":44.065744965000704},"id":"87bbf21d-5b7e-4de5-8c79-b8cf3f1e898b","type":"Range1d"}],"root_ids":["1d37b62f-1d83-4c53-b80e-496881e1e188","2a3e27c4-4467-4009-9bac-22c008c73be0"]},"title":"Bokeh Application","version":"0.11.1"}};
            var render_items = [{"docid":"f7908bd6-2b8a-49c5-bb31-08ae0d4e8284","elementid":"f611838b-ab4d-4c12-8892-ecf4b0030d6e","modelid":"2a3e27c4-4467-4009-9bac-22c008c73be0","notebook_comms_target":"100961ef-1bfb-4203-874c-ed3d03569388"}];
            
            Bokeh.embed.embed_items(docs_json, render_items);
        });
      },
      function(Bokeh) {
      }
    ];
  
    function run_inline_js() {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i](window.Bokeh);
      }
    }
  
    if (window._bokeh_is_loading === 0) {
      console.log("Bokeh: BokehJS loaded, going straight to plotting");
      run_inline_js();
    } else {
      load_libs(js_urls, function() {
        console.log("Bokeh: BokehJS plotting callback run at", now());
        run_inline_js();
      });
    }
  }(this));
</script>


With data in memory I get up to ~200% CPU. But still well short of 800% available.

## Dask + Zarr

Recently I've been working on [Zarr](zarr.readthedocs.io/), a new Python library for chunked, compressed, N-dimensional data. Previously I [introduced Zarr](http://alimanfoo.github.io/2016/04/14/to-hdf5-and-beyond.html) and showed how it can be used to get fast access into large multi-dimensional arrays. The other thing Zarr can do is let you read or write to an array from multiple threads or processes in parallel. Also, Zarr releases the GIL during compression and decompression, so other threads can carry on working. Here's the allele count example again, but this time using a Zarr array as the input data source:


{% highlight python %}
import zarr
zarr.__version__
{% endhighlight %}




    '1.0.0'




{% highlight python %}
# Setup a Zarr array, copying in genotype data from the HDF5 file.
# N.B., let's use the similar compression options as the HDF5 file for a fairer
# comparison, although other compressors might be faster.
# Let's also use SSD, same as where HDF5 was stored above.
genotype_zarr = zarr.open_like(genotype, path='data/genotype.zarr', mode='w', 
                               chunks=chunks, compression='blosc',
                               compression_opts=dict(cname='zlib', clevel=3, shuffle=0))
genotype_zarr[:] = genotype
genotype_zarr
{% endhighlight %}




    zarr.core.Array((13167162, 765, 2), int8, chunks=(6553, 200, 2), order=C)
      compression: blosc; compression_opts: {'clevel': 3, 'shuffle': 0, 'cname': 'zlib'}
      nbytes: 18.8G; nbytes_stored: 629.1M; ratio: 30.5; initialized: 8040/8040
      store: zarr.storage.DirectoryStore




{% highlight python %}
# ensure OS pagecache is cleared 
!sudo drop_caches
{% endhighlight %}


{% highlight python %}
# run allele count computation via dask
gdz = allel.model.dask.GenotypeDaskArray.from_array(genotype_zarr, chunks=chunks)
acz = gdz.count_alleles(max_allele=3)
with ResourceProfiler(dt=1) as rprof:
    acz.compute(num_workers=multiprocessing.cpu_count())
visualize(rprof);
{% endhighlight %}




<div class="plotdiv" id="1987d324-ec7d-4a96-acb5-99f4b1b49630"></div>
<script type="text/javascript">
  
  (function(global) {
    function now() {
      return new Date();
    }
  
    if (typeof (window._bokeh_onload_callbacks) === "undefined") {
      window._bokeh_onload_callbacks = [];
    }
  
    function run_callbacks() {
      window._bokeh_onload_callbacks.forEach(function(callback) { callback() });
      delete window._bokeh_onload_callbacks
      console.info("Bokeh: all callbacks have finished");
    }
  
    function load_libs(js_urls, callback) {
      window._bokeh_onload_callbacks.push(callback);
      if (window._bokeh_is_loading > 0) {
        console.log("Bokeh: BokehJS is being loaded, scheduling callback at", now());
        return null;
      }
      if (js_urls == null || js_urls.length === 0) {
        run_callbacks();
        return null;
      }
      console.log("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
      window._bokeh_is_loading = js_urls.length;
      for (var i = 0; i < js_urls.length; i++) {
        var url = js_urls[i];
        var s = document.createElement('script');
        s.src = url;
        s.async = false;
        s.onreadystatechange = s.onload = function() {
          window._bokeh_is_loading--;
          if (window._bokeh_is_loading === 0) {
            console.log("Bokeh: all BokehJS libraries loaded");
            run_callbacks()
          }
        };
        s.onerror = function() {
          console.warn("failed to load library " + url);
        };
        console.log("Bokeh: injecting script tag for BokehJS library: ", url);
        document.getElementsByTagName("head")[0].appendChild(s);
      }
    };var element = document.getElementById("1987d324-ec7d-4a96-acb5-99f4b1b49630");
    if (element == null) {
      console.log("Bokeh: ERROR: autoload.js configured with elementid '1987d324-ec7d-4a96-acb5-99f4b1b49630' but no matching script tag was found. ")
      return false;
    }
  
    var js_urls = [];
  
    var inline_js = [
      function(Bokeh) {
        Bokeh.$(function() {
            var docs_json = {"33013641-be72-4e7e-bab8-2ae04d129150":{"roots":{"references":[{"attributes":{"data_source":{"id":"49d719d9-2663-4001-af6b-4de02e486a74","type":"ColumnDataSource"},"glyph":{"id":"bc8ab5fa-df63-4f00-adac-c51871eda48e","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"508195b0-9778-48d1-a167-a2ea03ae30d7","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"bc8ab5fa-df63-4f00-adac-c51871eda48e","type":"Line"},{"attributes":{"dimensions":["width"],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"a660886d-9750-4244-9476-e66bb4fcb74e","type":"WheelZoomTool"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"7473dbfc-b124-4c91-af3e-aeb196c7326e","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"}},"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"53c167f2-10fe-4715-b09b-ac5cee04a449","type":"BasicTickFormatter"},"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"29d8d6cc-5805-474f-894b-3b570af97872","type":"BasicTicker"}},"id":"78e4b73b-2887-4d3a-893c-5461f5f1da9e","type":"LinearAxis"},{"attributes":{"callback":null,"end":776.032256,"start":228.61824},"id":"d7ed29e2-4e94-44af-a29b-422bedb77614","type":"Range1d"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0126720180005577,2.013911607999944,3.015206441000373,4.0164325100004135,5.0177076270001635,6.018979396000759,7.020306979999987,8.021615334000671,9.022917589000826,10.02417941100066,11.02548157000001,12.026828859000489,13.028267953000068,14.02957323100054,15.030842904000565,16.032118297000125,17.033490238000013,18.034768228000758,19.036093790999985,20.037438420999933,21.038711508000233,22.039984742000343,23.04125255300005,24.042288111000744,25.043596869000794,26.044867279000755,27.046210215999963,28.046716122000362,29.04734337300033,30.048453833000167,31.049746932000744,32.051057813000625,33.05233316600061,34.05368161500064,35.05497923100029,36.05628922200049,37.0577022740008,38.058551429000545,39.05980304000059,40.0604355710002,41.06173267000031,42.06306555400079,43.06443460900027,44.065744965000704],"y":[1302.884352,1356.591104,1366.97856,1381.203968,1388.142592,1398.808576,1411.612672,1422.155776,1430.900736,1442.082816,1454.096384,1464.266752,1478.664192,1483.124736,1497.104384,1508.020224,1521.270784,1532.8256,1542.930432,1555.6608,1565.155328,1574.375424,1588.314112,1601.26976,1613.017088,1623.216128,1635.065856,1648.2304,1656.15616,1667.223552,1678.90944,1692.606464,1701.330944,1714.83136,1724.84608,1736.00768,1742.364672,1758.040064,1768.300544,1780.736,1791.36512,1799.675904,1815.609344,1826.476032,1835.99104]}},"id":"e7a5e59a-cc40-4a82-b271-e083a8c75e1a","type":"ColumnDataSource"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"577c6cfc-2502-42e8-b984-bb0c29ba6efd","type":"ResetTool"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"0882b550-b19b-4d0e-b954-92f92f49334b","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"}},"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"981755b0-50bf-45c4-82e8-30aebd5d23ae","type":"Line"},{"attributes":{},"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"},{"attributes":{"legends":[["% CPU",[{"id":"5c9e8659-61ec-457b-b69f-eb39034e4277","type":"GlyphRenderer"}]],["Memory",[{"id":"bb458f33-514e-4098-8411-93b81f22a17a","type":"GlyphRenderer"}]]],"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"bd627055-4a86-4460-b239-19d2695474e3","type":"Legend"},{"attributes":{},"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"82e8d81d-b6a3-4cdd-b295-36106ec019a1","type":"Line"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"43a10572-c736-4eac-824d-2bc9d8e0a953","type":"Line"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"c7a74fdd-9d9d-4ba4-943f-8d9a227977c6","type":"Line"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0119508319994566,2.0132127009992473,3.0146199979999437,4.015993668999727,5.017424059999939,6.0188558889994965,7.020132896999712,8.021467203999237,9.022818382999503,10.02416176999941,11.0255814559996,12.0268771129995,13.028232708999894,14.029470241999661,15.03092040499996,16.032264325999677],"y":[0.0,117.6,469.4,441.4,586.2,551.2,466.3,485.4,526.3,584.2,575.2,455.4,449.4,511.3,566.3,588.2,451.4]}},"id":"0ee0d794-cc86-41a5-9be6-ecf10d97b461","type":"ColumnDataSource"},{"attributes":{},"id":"7051cf75-e42f-40ea-9651-82a01e087e40","type":"ToolEvents"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"149cea2a-7604-4933-a310-968747a6d629","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"}},"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"},{"attributes":{"data_source":{"id":"0e76dd1d-1977-475f-a57b-b1ceb9023fa9","type":"ColumnDataSource"},"glyph":{"id":"c7f06f8b-f025-4dcd-94f0-882292ca1303","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"55ebb339-b7d1-4acb-8407-dcf9a3193065","type":"Line"},"selection_glyph":null},"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"},{"attributes":{"dimension":1,"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"}},"id":"e286d0b3-e6bf-4aa2-bf60-6f664c3e59d7","type":"Grid"},{"attributes":{"data_source":{"id":"516c8d63-4020-42ea-a5ee-2780910c6f49","type":"ColumnDataSource"},"glyph":{"id":"0b41ca56-601f-4470-9870-7c481b9bb8d4","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"981755b0-50bf-45c4-82e8-30aebd5d23ae","type":"Line"},"selection_glyph":null},"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"},{"attributes":{},"id":"513c1ecc-9b03-40de-ba9d-3fd85ccad57e","type":"ToolEvents"},{"attributes":{"data_source":{"id":"0ee0d794-cc86-41a5-9be6-ecf10d97b461","type":"ColumnDataSource"},"glyph":{"id":"c6d61dde-16c4-4ad8-b160-10affe815963","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"a3c2a1e4-fd10-4366-bee6-805b13b78cc3","type":"Line"},"selection_glyph":null},"id":"5c9e8659-61ec-457b-b69f-eb39034e4277","type":"GlyphRenderer"},{"attributes":{"callback":null,"end":77.10554918100024},"id":"88c0e3ea-79f7-423c-ad84-81184f59a45f","type":"Range1d"},{"attributes":{"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"e2da854c-96c3-4288-9237-fc265299fe64","type":"ResetTool"},{"attributes":{"dimensions":["width"],"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"ac97fe51-1db0-48fd-a980-d799a7cc8cac","type":"PanTool"},{"attributes":{},"id":"443cba9b-8997-4ab2-9325-33395caca74d","type":"BasicTickFormatter"},{"attributes":{"dimensions":["width"],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"61f9eece-b20a-45fd-985f-a3d03e4ece68","type":"PanTool"},{"attributes":{},"id":"e6ee2feb-7cd1-46c9-a66d-ea8d3f63438f","type":"BasicTicker"},{"attributes":{"callback":null,"end":127.9},"id":"fdf34fbd-7975-4ace-afba-98d4458ad520","type":"Range1d"},{"attributes":{"callback":null,"end":193.9},"id":"aee706fe-5b0d-45ad-b01e-0595b56cb272","type":"Range1d"},{"attributes":{},"id":"53c167f2-10fe-4715-b09b-ac5cee04a449","type":"BasicTickFormatter"},{"attributes":{},"id":"149cea2a-7604-4933-a310-968747a6d629","type":"BasicTickFormatter"},{"attributes":{},"id":"24701fbd-d33e-4ef8-a5a3-e56e53a21a6b","type":"BasicTickFormatter"},{"attributes":{},"id":"dc8ea985-ec72-4388-82b3-b089416e179c","type":"ToolEvents"},{"attributes":{"callback":null,"end":44.065744965000704},"id":"87bbf21d-5b7e-4de5-8c79-b8cf3f1e898b","type":"Range1d"},{"attributes":{"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"19e9b9cd-5d1d-473f-a2db-8e26fb25a801","type":"ResizeTool"},{"attributes":{"dimensions":["width"],"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"eb5c2303-fe6f-44e6-a21d-c09a0e35ff2a","type":"WheelZoomTool"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"443cba9b-8997-4ab2-9325-33395caca74d","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"55633df7-d77e-457d-967b-6ed4dd8fe565","type":"BasicTicker"},"y_range_name":"memory"},"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"c7f06f8b-f025-4dcd-94f0-882292ca1303","type":"Line"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"}},"id":"27476d00-7b03-4a4d-9328-cdd91d34d3bd","type":"Grid"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"a3c2a1e4-fd10-4366-bee6-805b13b78cc3","type":"Line"},{"attributes":{},"id":"0ae43466-d52e-4327-98ba-f4beae6ccb3c","type":"BasicTickFormatter"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"e8151fd9-cd25-4320-b7ca-6ce49a388c22","type":"Line"},{"attributes":{"legends":[["% CPU",[{"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"}]],["Memory",[{"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"}]]],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"b2c34c1b-c54d-4eac-b0fd-306dc57eeeda","type":"Legend"},{"attributes":{"callback":null,"end":16.032264325999677},"id":"f30384d2-b316-4206-a0df-88e1bf8968d3","type":"Range1d"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"55ebb339-b7d1-4acb-8407-dcf9a3193065","type":"Line"},{"attributes":{"below":[{"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"d7ed29e2-4e94-44af-a29b-422bedb77614","type":"Range1d"}},"left":[{"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"},{"id":"b24bd57f-b7b1-461b-bdcc-b6293aa6c0ad","type":"Grid"},{"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"},{"id":"e286d0b3-e6bf-4aa2-bf60-6f664c3e59d7","type":"Grid"},{"id":"b2c34c1b-c54d-4eac-b0fd-306dc57eeeda","type":"Legend"},{"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"},{"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"},{"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"}],"right":[{"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"7051cf75-e42f-40ea-9651-82a01e087e40","type":"ToolEvents"},"tools":[{"id":"5ca0c5a9-c495-46ea-89f7-3a4a367a87ca","type":"PreviewSaveTool"},{"id":"577c6cfc-2502-42e8-b984-bb0c29ba6efd","type":"ResetTool"},{"id":"5cc76367-0185-442d-8657-d82389af2075","type":"ResizeTool"},{"id":"a660886d-9750-4244-9476-e66bb4fcb74e","type":"WheelZoomTool"},{"id":"61f9eece-b20a-45fd-985f-a3d03e4ece68","type":"PanTool"}],"x_range":{"id":"88c0e3ea-79f7-423c-ad84-81184f59a45f","type":"Range1d"},"y_range":{"id":"fdf34fbd-7975-4ace-afba-98d4458ad520","type":"Range1d"}},"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"24701fbd-d33e-4ef8-a5a3-e56e53a21a6b","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"9427d135-5723-432d-8ebb-93968f85a9a5","type":"BasicTicker"},"y_range_name":"memory"},"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"},{"attributes":{"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"29d8d6cc-5805-474f-894b-3b570af97872","type":"BasicTicker"}},"id":"d8756899-ed47-4bd1-b498-6978ea79464a","type":"Grid"},{"attributes":{},"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0135510800000702,2.013942878999842,3.0152597280002738,4.016524435000065,5.017921268999999,6.019228870999541,7.020527898999717,8.021817383999405,9.023133808000239,10.024012222000238,11.02529885199965,12.026611796999532,13.027873502000148,14.029220548000012,15.030044266000004,16.031310898999436,17.032585361999736,18.033854653000162,19.035136315999807,20.03646444900005,21.037771784000142,22.039084873999855,23.04039633100001,24.041670554999655,25.042087030999937,26.04337097000007,27.044635510999797,28.045981856999788,29.047259826999834,30.048519316000238,31.049779412000134,32.05115518899947,33.05241398999988,34.05345779700019,35.05407050199938,36.05537967199962,37.05666489899977,38.058009794999634,39.05935806100024,40.06064376199993,41.06192095799997,42.06319961400004,43.06445408899981,44.06571151099979,45.06606845999977,46.06732114599981,47.0677623900001,48.069048071,49.07039917400016,50.07171326400021,51.072963693999554,52.07406192599956,53.075356524999734,54.07664151500012,55.07795459599947,56.07926128700001,57.08052644599957,58.08178818899978,59.0828762229994,60.084138585999426,61.08538540999962,62.086642381000274,63.08793555699958,64.08921570099938,65.09008079700016,66.09136235599999,67.09263568200004,68.09393601299962,69.09522888599986,70.09654074399987,71.09781714000019,72.09922687000017,73.10056315099973,74.10194202799994,75.10323477200018,76.10425843400026,77.10554918100024],"y":[0.0,98.7,91.0,85.9,96.9,94.9,97.9,100.9,98.9,97.9,94.9,96.9,105.9,102.9,98.9,107.9,104.9,94.9,104.9,109.9,106.9,92.9,103.9,106.9,111.9,104.0,107.9,100.9,106.9,102.9,106.9,110.9,104.9,106.9,104.9,112.9,101.9,109.9,107.9,106.9,109.9,107.9,107.9,113.9,107.9,108.0,106.9,112.9,115.8,105.9,110.9,118.8,113.9,113.9,112.9,113.8,113.9,116.9,114.9,117.9,116.9,119.9,103.9,112.9,115.8,116.9,117.9,116.9,122.8,121.8,107.9,121.8,119.8,119.8,125.8,117.8,127.9,122.8]}},"id":"516c8d63-4020-42ea-a5ee-2780910c6f49","type":"ColumnDataSource"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"508195b0-9778-48d1-a167-a2ea03ae30d7","type":"Line"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"5cc76367-0185-442d-8657-d82389af2075","type":"ResizeTool"},{"attributes":{"data_source":{"id":"e7a5e59a-cc40-4a82-b271-e083a8c75e1a","type":"ColumnDataSource"},"glyph":{"id":"82e8d81d-b6a3-4cdd-b295-36106ec019a1","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"43a10572-c736-4eac-824d-2bc9d8e0a953","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"},{"attributes":{"dimension":1,"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"3b16963b-3719-42ae-889f-eb1495602dc2","type":"BasicTicker"}},"id":"416b2636-c72a-47e1-82fb-094446bb382a","type":"Grid"},{"attributes":{"callback":null,"end":1835.99104,"start":1302.884352},"id":"21494bf7-f098-4aba-b432-4fa0b824ee5b","type":"Range1d"},{"attributes":{},"id":"9427d135-5723-432d-8ebb-93968f85a9a5","type":"BasicTicker"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"c6d61dde-16c4-4ad8-b160-10affe815963","type":"Line"},{"attributes":{},"id":"7473dbfc-b124-4c91-af3e-aeb196c7326e","type":"BasicTickFormatter"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"b50c5576-229a-44cd-a3c6-7797a2839c33","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"}},"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"0ae43466-d52e-4327-98ba-f4beae6ccb3c","type":"BasicTickFormatter"},"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"e6ee2feb-7cd1-46c9-a66d-ea8d3f63438f","type":"BasicTicker"},"y_range_name":"memory"},"id":"292e0feb-4e93-4abb-b6c3-c795dc9f08d7","type":"LinearAxis"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"5ca0c5a9-c495-46ea-89f7-3a4a367a87ca","type":"PreviewSaveTool"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0135510800000702,2.013942878999842,3.0152597280002738,4.016524435000065,5.017921268999999,6.019228870999541,7.020527898999717,8.021817383999405,9.023133808000239,10.024012222000238,11.02529885199965,12.026611796999532,13.027873502000148,14.029220548000012,15.030044266000004,16.031310898999436,17.032585361999736,18.033854653000162,19.035136315999807,20.03646444900005,21.037771784000142,22.039084873999855,23.04039633100001,24.041670554999655,25.042087030999937,26.04337097000007,27.044635510999797,28.045981856999788,29.047259826999834,30.048519316000238,31.049779412000134,32.05115518899947,33.05241398999988,34.05345779700019,35.05407050199938,36.05537967199962,37.05666489899977,38.058009794999634,39.05935806100024,40.06064376199993,41.06192095799997,42.06319961400004,43.06445408899981,44.06571151099979,45.06606845999977,46.06732114599981,47.0677623900001,48.069048071,49.07039917400016,50.07171326400021,51.072963693999554,52.07406192599956,53.075356524999734,54.07664151500012,55.07795459599947,56.07926128700001,57.08052644599957,58.08178818899978,59.0828762229994,60.084138585999426,61.08538540999962,62.086642381000274,63.08793555699958,64.08921570099938,65.09008079700016,66.09136235599999,67.09263568200004,68.09393601299962,69.09522888599986,70.09654074399987,71.09781714000019,72.09922687000017,73.10056315099973,74.10194202799994,75.10323477200018,76.10425843400026,77.10554918100024],"y":[228.61824,289.886208,297.426944,301.494272,307.441664,312.266752,318.23872,326.4512,333.398016,341.610496,346.206208,351.870976,358.023168,363.175936,366.583808,379.82208,383.504384,389.423104,387.612672,400.9984,406.945792,411.000832,416.129024,426.04544,430.10048,437.129216,443.61728,448.622592,453.685248,463.417344,466.644992,471.781376,478.199808,483.86048,494.403584,496.39424,501.526528,513.769472,514.441216,524.435456,536.059904,536.825856,542.80192,550.42048,556.494848,561.872896,569.32352,576.155648,584.634368,587.608064,596.041728,603.967488,608.19456,617.992192,619.700224,629.444608,632.127488,639.418368,647.72096,655.83104,665.829376,669.843456,678.223872,682.76224,688.689152,698.691584,705.98656,711.933952,716.570624,727.461888,733.724672,741.76512,743.91552,755.298304,760.000512,767.832064,776.032256,771.571712]}},"id":"49d719d9-2663-4001-af6b-4de02e486a74","type":"ColumnDataSource"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"827641a7-0c16-4865-8b75-0b14caa793d2","type":"ResizeTool"},{"attributes":{},"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"},{"attributes":{},"id":"0882b550-b19b-4d0e-b954-92f92f49334b","type":"BasicTickFormatter"},{"attributes":{"callback":null,"end":588.2},"id":"ed7df254-b1af-4da0-a798-84aba3e2ffe7","type":"Range1d"},{"attributes":{"legends":[["% CPU",[{"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"}]],["Memory",[{"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"}]]],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"134bbbda-420a-4102-a37b-9cc5725d7aa9","type":"Legend"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0126720180005577,2.013911607999944,3.015206441000373,4.0164325100004135,5.0177076270001635,6.018979396000759,7.020306979999987,8.021615334000671,9.022917589000826,10.02417941100066,11.02548157000001,12.026828859000489,13.028267953000068,14.02957323100054,15.030842904000565,16.032118297000125,17.033490238000013,18.034768228000758,19.036093790999985,20.037438420999933,21.038711508000233,22.039984742000343,23.04125255300005,24.042288111000744,25.043596869000794,26.044867279000755,27.046210215999963,28.046716122000362,29.04734337300033,30.048453833000167,31.049746932000744,32.051057813000625,33.05233316600061,34.05368161500064,35.05497923100029,36.05628922200049,37.0577022740008,38.058551429000545,39.05980304000059,40.0604355710002,41.06173267000031,42.06306555400079,43.06443460900027,44.065744965000704],"y":[0.0,129.4,191.8,189.8,191.8,188.8,190.8,186.8,188.8,189.8,189.8,191.8,184.7,185.7,191.8,191.8,190.7,190.7,191.7,189.7,191.7,190.8,191.8,190.8,190.8,189.8,191.8,190.7,189.9,193.9,189.8,189.8,191.7,188.7,192.7,191.8,189.7,191.7,190.8,190.8,187.9,191.8,190.7,189.7,188.7]}},"id":"0e76dd1d-1977-475f-a57b-b1ceb9023fa9","type":"ColumnDataSource"},{"attributes":{},"id":"b50c5576-229a-44cd-a3c6-7797a2839c33","type":"BasicTickFormatter"},{"attributes":{"dimension":1,"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"}},"id":"6973629f-d932-4ac6-bbaf-9854588d9108","type":"Grid"},{"attributes":{"below":[{"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"21494bf7-f098-4aba-b432-4fa0b824ee5b","type":"Range1d"}},"left":[{"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"},{"id":"27476d00-7b03-4a4d-9328-cdd91d34d3bd","type":"Grid"},{"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"},{"id":"6973629f-d932-4ac6-bbaf-9854588d9108","type":"Grid"},{"id":"134bbbda-420a-4102-a37b-9cc5725d7aa9","type":"Legend"},{"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"},{"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"},{"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"}],"right":[{"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"513c1ecc-9b03-40de-ba9d-3fd85ccad57e","type":"ToolEvents"},"tools":[{"id":"14c1d1bd-6b7f-49a6-b9c2-4938da57f0f5","type":"PreviewSaveTool"},{"id":"58d9beec-dbf1-4dee-8c77-c8e17e619084","type":"ResetTool"},{"id":"827641a7-0c16-4865-8b75-0b14caa793d2","type":"ResizeTool"},{"id":"5c8c889f-3b3e-4315-a6e2-c68465216c51","type":"WheelZoomTool"},{"id":"855e855d-fdc2-4f82-9987-d5272a8b16d5","type":"PanTool"}],"x_range":{"id":"87bbf21d-5b7e-4de5-8c79-b8cf3f1e898b","type":"Range1d"},"y_range":{"id":"aee706fe-5b0d-45ad-b01e-0595b56cb272","type":"Range1d"}},"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},{"attributes":{"dimensions":["width"],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"5c8c889f-3b3e-4315-a6e2-c68465216c51","type":"WheelZoomTool"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"}},"id":"b24bd57f-b7b1-461b-bdcc-b6293aa6c0ad","type":"Grid"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"0b41ca56-601f-4470-9870-7c481b9bb8d4","type":"Line"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"14c1d1bd-6b7f-49a6-b9c2-4938da57f0f5","type":"PreviewSaveTool"},{"attributes":{"below":[{"id":"78e4b73b-2887-4d3a-893c-5461f5f1da9e","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"dd49551b-11f5-4d8c-9831-e4ff20df26d7","type":"Range1d"}},"left":[{"id":"33fccd02-82aa-4ac9-9120-428a357bf0c3","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"78e4b73b-2887-4d3a-893c-5461f5f1da9e","type":"LinearAxis"},{"id":"d8756899-ed47-4bd1-b498-6978ea79464a","type":"Grid"},{"id":"33fccd02-82aa-4ac9-9120-428a357bf0c3","type":"LinearAxis"},{"id":"416b2636-c72a-47e1-82fb-094446bb382a","type":"Grid"},{"id":"bd627055-4a86-4460-b239-19d2695474e3","type":"Legend"},{"id":"5c9e8659-61ec-457b-b69f-eb39034e4277","type":"GlyphRenderer"},{"id":"bb458f33-514e-4098-8411-93b81f22a17a","type":"GlyphRenderer"},{"id":"292e0feb-4e93-4abb-b6c3-c795dc9f08d7","type":"LinearAxis"}],"right":[{"id":"292e0feb-4e93-4abb-b6c3-c795dc9f08d7","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"dc8ea985-ec72-4388-82b3-b089416e179c","type":"ToolEvents"},"tools":[{"id":"78824c43-8b15-4ef8-b580-0b34f11b5c29","type":"PreviewSaveTool"},{"id":"e2da854c-96c3-4288-9237-fc265299fe64","type":"ResetTool"},{"id":"19e9b9cd-5d1d-473f-a2db-8e26fb25a801","type":"ResizeTool"},{"id":"eb5c2303-fe6f-44e6-a21d-c09a0e35ff2a","type":"WheelZoomTool"},{"id":"ac97fe51-1db0-48fd-a980-d799a7cc8cac","type":"PanTool"}],"x_range":{"id":"f30384d2-b316-4206-a0df-88e1bf8968d3","type":"Range1d"},"y_range":{"id":"ed7df254-b1af-4da0-a798-84aba3e2ffe7","type":"Range1d"}},"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0119508319994566,2.0132127009992473,3.0146199979999437,4.015993668999727,5.017424059999939,6.0188558889994965,7.020132896999712,8.021467203999237,9.022818382999503,10.02416176999941,11.0255814559996,12.0268771129995,13.028232708999894,14.029470241999661,15.03092040499996,16.032264325999677],"y":[2400.751616,2464.29696,2490.011648,2514.264064,2548.441088,2580.402176,2605.543424,2631.766016,2664.747008,2695.217152,2727.899136,2756.825088,2781.155328,2810.093568,2840.911872,2874.1632,2900.21376]}},"id":"6d0175e6-0ef0-4077-b58b-b05ad08daee2","type":"ColumnDataSource"},{"attributes":{},"id":"55633df7-d77e-457d-967b-6ed4dd8fe565","type":"BasicTicker"},{"attributes":{},"id":"3b16963b-3719-42ae-889f-eb1495602dc2","type":"BasicTicker"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"ffd22abb-b0e2-4080-a0d0-94f9ad2cc521","type":"BasicTickFormatter"},"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"3b16963b-3719-42ae-889f-eb1495602dc2","type":"BasicTicker"}},"id":"33fccd02-82aa-4ac9-9120-428a357bf0c3","type":"LinearAxis"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"58d9beec-dbf1-4dee-8c77-c8e17e619084","type":"ResetTool"},{"attributes":{},"id":"29d8d6cc-5805-474f-894b-3b570af97872","type":"BasicTicker"},{"attributes":{"dimensions":["width"],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"855e855d-fdc2-4f82-9987-d5272a8b16d5","type":"PanTool"},{"attributes":{"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"78824c43-8b15-4ef8-b580-0b34f11b5c29","type":"PreviewSaveTool"},{"attributes":{"data_source":{"id":"6d0175e6-0ef0-4077-b58b-b05ad08daee2","type":"ColumnDataSource"},"glyph":{"id":"e8151fd9-cd25-4320-b7ca-6ce49a388c22","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"c7a74fdd-9d9d-4ba4-943f-8d9a227977c6","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bb458f33-514e-4098-8411-93b81f22a17a","type":"GlyphRenderer"},{"attributes":{"callback":null,"end":2900.21376,"start":2400.751616},"id":"dd49551b-11f5-4d8c-9831-e4ff20df26d7","type":"Range1d"},{"attributes":{},"id":"ffd22abb-b0e2-4080-a0d0-94f9ad2cc521","type":"BasicTickFormatter"}],"root_ids":["1d37b62f-1d83-4c53-b80e-496881e1e188","2a3e27c4-4467-4009-9bac-22c008c73be0","0434e19f-6920-4860-b539-d1a3509f4024"]},"title":"Bokeh Application","version":"0.11.1"}};
            var render_items = [{"docid":"33013641-be72-4e7e-bab8-2ae04d129150","elementid":"1987d324-ec7d-4a96-acb5-99f4b1b49630","modelid":"0434e19f-6920-4860-b539-d1a3509f4024","notebook_comms_target":"98770a59-f155-42c5-891a-9fd83bfa5c7d"}];
            
            Bokeh.embed.embed_items(docs_json, render_items);
        });
      },
      function(Bokeh) {
      }
    ];
  
    function run_inline_js() {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i](window.Bokeh);
      }
    }
  
    if (window._bokeh_is_loading === 0) {
      console.log("Bokeh: BokehJS loaded, going straight to plotting");
      run_inline_js();
    } else {
      load_libs(js_urls, function() {
        console.log("Bokeh: BokehJS plotting callback run at", now());
        run_inline_js();
      });
    }
  }(this));
</script>


This time I get ~500% CPU usage. Also the computation is about 5 times faster, which is about what you'd expect if I'm utilising ~5 times more CPU. I still don't get to 800%, but I think that's because I'm hitting the limit for raw I/O on my SSD. To see this effect, let's try re-running the same computation, but this time without clearing the OS page cache... 


{% highlight python %}
with ResourceProfiler(dt=1) as rprof:
    acz.compute(num_workers=multiprocessing.cpu_count())
visualize(rprof);
{% endhighlight %}




<div class="plotdiv" id="3412cc6c-b46b-4a59-afd5-104808538696"></div>
<script type="text/javascript">
  
  (function(global) {
    function now() {
      return new Date();
    }
  
    if (typeof (window._bokeh_onload_callbacks) === "undefined") {
      window._bokeh_onload_callbacks = [];
    }
  
    function run_callbacks() {
      window._bokeh_onload_callbacks.forEach(function(callback) { callback() });
      delete window._bokeh_onload_callbacks
      console.info("Bokeh: all callbacks have finished");
    }
  
    function load_libs(js_urls, callback) {
      window._bokeh_onload_callbacks.push(callback);
      if (window._bokeh_is_loading > 0) {
        console.log("Bokeh: BokehJS is being loaded, scheduling callback at", now());
        return null;
      }
      if (js_urls == null || js_urls.length === 0) {
        run_callbacks();
        return null;
      }
      console.log("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
      window._bokeh_is_loading = js_urls.length;
      for (var i = 0; i < js_urls.length; i++) {
        var url = js_urls[i];
        var s = document.createElement('script');
        s.src = url;
        s.async = false;
        s.onreadystatechange = s.onload = function() {
          window._bokeh_is_loading--;
          if (window._bokeh_is_loading === 0) {
            console.log("Bokeh: all BokehJS libraries loaded");
            run_callbacks()
          }
        };
        s.onerror = function() {
          console.warn("failed to load library " + url);
        };
        console.log("Bokeh: injecting script tag for BokehJS library: ", url);
        document.getElementsByTagName("head")[0].appendChild(s);
      }
    };var element = document.getElementById("3412cc6c-b46b-4a59-afd5-104808538696");
    if (element == null) {
      console.log("Bokeh: ERROR: autoload.js configured with elementid '3412cc6c-b46b-4a59-afd5-104808538696' but no matching script tag was found. ")
      return false;
    }
  
    var js_urls = [];
  
    var inline_js = [
      function(Bokeh) {
        Bokeh.$(function() {
            var docs_json = {"fe2fcaa6-b168-447b-92a8-8810f07cb925":{"roots":{"references":[{"attributes":{"below":[{"id":"413ebcef-dfda-42a2-a4e0-7df3b87129bf","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"2f4dc77f-0264-4751-9aa4-ef09fa7e7ce9","type":"Range1d"}},"left":[{"id":"5e15da40-d1ac-476a-b6aa-47fcc02c98cc","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"413ebcef-dfda-42a2-a4e0-7df3b87129bf","type":"LinearAxis"},{"id":"31a53289-b7db-473b-a956-ce69863eb80b","type":"Grid"},{"id":"5e15da40-d1ac-476a-b6aa-47fcc02c98cc","type":"LinearAxis"},{"id":"14193834-e7a9-4371-a11d-2e3cbbac6750","type":"Grid"},{"id":"5246b7c0-8685-4fb6-8fac-deb8e3c3657f","type":"Legend"},{"id":"63419e3c-45cc-402c-97cb-e72acfa4dd56","type":"GlyphRenderer"},{"id":"7c56b5f8-a16f-4439-b15b-8673366c80a5","type":"GlyphRenderer"},{"id":"6f4cb4b8-e148-41b7-a14b-5c19219ac9f1","type":"LinearAxis"}],"right":[{"id":"6f4cb4b8-e148-41b7-a14b-5c19219ac9f1","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"b4aef5d5-7c11-466c-83d0-c5a4016e454d","type":"ToolEvents"},"tools":[{"id":"798fc4c7-b29b-4d2b-9618-d5a5efb3f569","type":"PreviewSaveTool"},{"id":"85632912-b925-491a-8024-4e25d6ae2f67","type":"ResetTool"},{"id":"75bc02e8-4df1-46e1-849f-3c96e31b673e","type":"ResizeTool"},{"id":"ef2b726f-4507-4301-961c-a81edc73d7d8","type":"WheelZoomTool"},{"id":"da8509c9-336c-42ea-a3ca-371b59224eda","type":"PanTool"}],"x_range":{"id":"6f1cd823-187a-43e2-9d29-9bcc1688327c","type":"Range1d"},"y_range":{"id":"0def0e0a-8b7b-4eb7-8192-2ecdf825f3ec","type":"Range1d"}},"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"49d719d9-2663-4001-af6b-4de02e486a74","type":"ColumnDataSource"},"glyph":{"id":"bc8ab5fa-df63-4f00-adac-c51871eda48e","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"508195b0-9778-48d1-a167-a2ea03ae30d7","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"bc8ab5fa-df63-4f00-adac-c51871eda48e","type":"Line"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"d13c22f8-2b37-46e1-a40b-6728bcf5ff5a","type":"Line"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"7473dbfc-b124-4c91-af3e-aeb196c7326e","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"}},"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"},{"attributes":{"callback":null,"end":127.9},"id":"fdf34fbd-7975-4ace-afba-98d4458ad520","type":"Range1d"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"c7a74fdd-9d9d-4ba4-943f-8d9a227977c6","type":"Line"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0126720180005577,2.013911607999944,3.015206441000373,4.0164325100004135,5.0177076270001635,6.018979396000759,7.020306979999987,8.021615334000671,9.022917589000826,10.02417941100066,11.02548157000001,12.026828859000489,13.028267953000068,14.02957323100054,15.030842904000565,16.032118297000125,17.033490238000013,18.034768228000758,19.036093790999985,20.037438420999933,21.038711508000233,22.039984742000343,23.04125255300005,24.042288111000744,25.043596869000794,26.044867279000755,27.046210215999963,28.046716122000362,29.04734337300033,30.048453833000167,31.049746932000744,32.051057813000625,33.05233316600061,34.05368161500064,35.05497923100029,36.05628922200049,37.0577022740008,38.058551429000545,39.05980304000059,40.0604355710002,41.06173267000031,42.06306555400079,43.06443460900027,44.065744965000704],"y":[1302.884352,1356.591104,1366.97856,1381.203968,1388.142592,1398.808576,1411.612672,1422.155776,1430.900736,1442.082816,1454.096384,1464.266752,1478.664192,1483.124736,1497.104384,1508.020224,1521.270784,1532.8256,1542.930432,1555.6608,1565.155328,1574.375424,1588.314112,1601.26976,1613.017088,1623.216128,1635.065856,1648.2304,1656.15616,1667.223552,1678.90944,1692.606464,1701.330944,1714.83136,1724.84608,1736.00768,1742.364672,1758.040064,1768.300544,1780.736,1791.36512,1799.675904,1815.609344,1826.476032,1835.99104]}},"id":"e7a5e59a-cc40-4a82-b271-e083a8c75e1a","type":"ColumnDataSource"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"792b4232-6891-4650-94ab-36edca09a482","type":"BasicTickFormatter"},"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"},"ticker":{"id":"433f1343-b067-4a0e-86da-7a92ef030788","type":"BasicTicker"}},"id":"5e15da40-d1ac-476a-b6aa-47fcc02c98cc","type":"LinearAxis"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"577c6cfc-2502-42e8-b984-bb0c29ba6efd","type":"ResetTool"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"0882b550-b19b-4d0e-b954-92f92f49334b","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"}},"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"981755b0-50bf-45c4-82e8-30aebd5d23ae","type":"Line"},{"attributes":{},"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"},{"attributes":{},"id":"433f1343-b067-4a0e-86da-7a92ef030788","type":"BasicTicker"},{"attributes":{"legends":[["% CPU",[{"id":"5c9e8659-61ec-457b-b69f-eb39034e4277","type":"GlyphRenderer"}]],["Memory",[{"id":"bb458f33-514e-4098-8411-93b81f22a17a","type":"GlyphRenderer"}]]],"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"bd627055-4a86-4460-b239-19d2695474e3","type":"Legend"},{"attributes":{},"id":"0ae43466-d52e-4327-98ba-f4beae6ccb3c","type":"BasicTickFormatter"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"48339c3b-084a-49bd-a24a-fcd7c4a83f10","type":"BasicTickFormatter"},"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"},"ticker":{"id":"fdad9ef3-3fbc-4f80-84d9-af21b4a5bb89","type":"BasicTicker"},"y_range_name":"memory"},"id":"6f4cb4b8-e148-41b7-a14b-5c19219ac9f1","type":"LinearAxis"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0223708379999152,2.02343192599983,3.0248753460000444,4.026222606999909,5.0273911029999,6.028714559000036,7.030063113999859,8.031391831000292,9.032737913999881,10.03410111499943,11.035390369000197,12.036717809999573],"y":[0.0,275.79999999999995,752.1,748.0,750.0,743.2,758.0,748.0,746.0,733.0,745.0,752.0,751.0]}},"id":"65f55ab4-80e8-45d4-99f0-e2daffbdec36","type":"ColumnDataSource"},{"attributes":{"callback":null,"end":758.0},"id":"0def0e0a-8b7b-4eb7-8192-2ecdf825f3ec","type":"Range1d"},{"attributes":{},"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"},{"attributes":{"callback":null,"end":776.032256,"start":228.61824},"id":"d7ed29e2-4e94-44af-a29b-422bedb77614","type":"Range1d"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"d00116d4-147d-4ee8-9822-534b524cb430","type":"Line"},{"attributes":{"dimension":1,"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"3b16963b-3719-42ae-889f-eb1495602dc2","type":"BasicTicker"}},"id":"416b2636-c72a-47e1-82fb-094446bb382a","type":"Grid"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0119508319994566,2.0132127009992473,3.0146199979999437,4.015993668999727,5.017424059999939,6.0188558889994965,7.020132896999712,8.021467203999237,9.022818382999503,10.02416176999941,11.0255814559996,12.0268771129995,13.028232708999894,14.029470241999661,15.03092040499996,16.032264325999677],"y":[0.0,117.6,469.4,441.4,586.2,551.2,466.3,485.4,526.3,584.2,575.2,455.4,449.4,511.3,566.3,588.2,451.4]}},"id":"0ee0d794-cc86-41a5-9be6-ecf10d97b461","type":"ColumnDataSource"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"43a10572-c736-4eac-824d-2bc9d8e0a953","type":"Line"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"82e8d81d-b6a3-4cdd-b295-36106ec019a1","type":"Line"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"b3a6b0c5-c019-4835-b5f1-52397665f19f","type":"BasicTickFormatter"},"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"},"ticker":{"id":"bfa6349a-fc44-4632-9fa8-d9743451c495","type":"BasicTicker"}},"id":"413ebcef-dfda-42a2-a4e0-7df3b87129bf","type":"LinearAxis"},{"attributes":{},"id":"7051cf75-e42f-40ea-9651-82a01e087e40","type":"ToolEvents"},{"attributes":{"callback":null,"end":12.036717809999573},"id":"6f1cd823-187a-43e2-9d29-9bcc1688327c","type":"Range1d"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"149cea2a-7604-4933-a310-968747a6d629","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"}},"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"},{"attributes":{"data_source":{"id":"0e76dd1d-1977-475f-a57b-b1ceb9023fa9","type":"ColumnDataSource"},"glyph":{"id":"c7f06f8b-f025-4dcd-94f0-882292ca1303","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"55ebb339-b7d1-4acb-8407-dcf9a3193065","type":"Line"},"selection_glyph":null},"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"},{"attributes":{"callback":null,"end":3805.933568,"start":3311.292416},"id":"2f4dc77f-0264-4751-9aa4-ef09fa7e7ce9","type":"Range1d"},{"attributes":{"dimension":1,"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"ad903aea-77c6-47cd-91f1-8606c7f5776d","type":"BasicTicker"}},"id":"e286d0b3-e6bf-4aa2-bf60-6f664c3e59d7","type":"Grid"},{"attributes":{"data_source":{"id":"65f55ab4-80e8-45d4-99f0-e2daffbdec36","type":"ColumnDataSource"},"glyph":{"id":"e2cc577d-6b43-4248-8906-fe420ac7b6cc","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"d6f6188c-4ea9-49b5-b7fb-a8ccbf9dabda","type":"Line"},"selection_glyph":null},"id":"63419e3c-45cc-402c-97cb-e72acfa4dd56","type":"GlyphRenderer"},{"attributes":{},"id":"513c1ecc-9b03-40de-ba9d-3fd85ccad57e","type":"ToolEvents"},{"attributes":{"dimension":1,"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"},"ticker":{"id":"433f1343-b067-4a0e-86da-7a92ef030788","type":"BasicTicker"}},"id":"14193834-e7a9-4371-a11d-2e3cbbac6750","type":"Grid"},{"attributes":{"callback":null,"end":77.10554918100024},"id":"88c0e3ea-79f7-423c-ad84-81184f59a45f","type":"Range1d"},{"attributes":{"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"e2da854c-96c3-4288-9237-fc265299fe64","type":"ResetTool"},{"attributes":{"dimensions":["width"],"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"ac97fe51-1db0-48fd-a980-d799a7cc8cac","type":"PanTool"},{"attributes":{},"id":"443cba9b-8997-4ab2-9325-33395caca74d","type":"BasicTickFormatter"},{"attributes":{"dimensions":["width"],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"61f9eece-b20a-45fd-985f-a3d03e4ece68","type":"PanTool"},{"attributes":{},"id":"e6ee2feb-7cd1-46c9-a66d-ea8d3f63438f","type":"BasicTicker"},{"attributes":{"axis_label":"Time (s)","formatter":{"id":"53c167f2-10fe-4715-b09b-ac5cee04a449","type":"BasicTickFormatter"},"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"29d8d6cc-5805-474f-894b-3b570af97872","type":"BasicTicker"}},"id":"78e4b73b-2887-4d3a-893c-5461f5f1da9e","type":"LinearAxis"},{"attributes":{"dimensions":["width"],"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"}},"id":"da8509c9-336c-42ea-a3ca-371b59224eda","type":"PanTool"},{"attributes":{"callback":null,"end":193.9},"id":"aee706fe-5b0d-45ad-b01e-0595b56cb272","type":"Range1d"},{"attributes":{},"id":"53c167f2-10fe-4715-b09b-ac5cee04a449","type":"BasicTickFormatter"},{"attributes":{},"id":"149cea2a-7604-4933-a310-968747a6d629","type":"BasicTickFormatter"},{"attributes":{},"id":"24701fbd-d33e-4ef8-a5a3-e56e53a21a6b","type":"BasicTickFormatter"},{"attributes":{},"id":"dc8ea985-ec72-4388-82b3-b089416e179c","type":"ToolEvents"},{"attributes":{},"id":"55633df7-d77e-457d-967b-6ed4dd8fe565","type":"BasicTicker"},{"attributes":{"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"19e9b9cd-5d1d-473f-a2db-8e26fb25a801","type":"ResizeTool"},{"attributes":{"dimensions":["width"],"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"eb5c2303-fe6f-44e6-a21d-c09a0e35ff2a","type":"WheelZoomTool"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"443cba9b-8997-4ab2-9325-33395caca74d","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"55633df7-d77e-457d-967b-6ed4dd8fe565","type":"BasicTicker"},"y_range_name":"memory"},"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"c7f06f8b-f025-4dcd-94f0-882292ca1303","type":"Line"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"19593126-a518-41e3-ad72-254d13ac683d","type":"BasicTicker"}},"id":"27476d00-7b03-4a4d-9328-cdd91d34d3bd","type":"Grid"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"a3c2a1e4-fd10-4366-bee6-805b13b78cc3","type":"Line"},{"attributes":{"callback":null,"end":44.065744965000704},"id":"87bbf21d-5b7e-4de5-8c79-b8cf3f1e898b","type":"Range1d"},{"attributes":{"line_color":{"value":"#41b6c4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"e8151fd9-cd25-4320-b7ca-6ce49a388c22","type":"Line"},{"attributes":{},"id":"fdad9ef3-3fbc-4f80-84d9-af21b4a5bb89","type":"BasicTicker"},{"attributes":{"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"},"ticker":{"id":"bfa6349a-fc44-4632-9fa8-d9743451c495","type":"BasicTicker"}},"id":"31a53289-b7db-473b-a956-ce69863eb80b","type":"Grid"},{"attributes":{"legends":[["% CPU",[{"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"}]],["Memory",[{"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"}]]],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"b2c34c1b-c54d-4eac-b0fd-306dc57eeeda","type":"Legend"},{"attributes":{"callback":null,"end":16.032264325999677},"id":"f30384d2-b316-4206-a0df-88e1bf8968d3","type":"Range1d"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"55ebb339-b7d1-4acb-8407-dcf9a3193065","type":"Line"},{"attributes":{"below":[{"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"d7ed29e2-4e94-44af-a29b-422bedb77614","type":"Range1d"}},"left":[{"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"adaf040c-6ea4-422d-a55f-d018e62e1436","type":"LinearAxis"},{"id":"b24bd57f-b7b1-461b-bdcc-b6293aa6c0ad","type":"Grid"},{"id":"807cb5c9-b5c2-4c6d-abd8-fa9f80531e9f","type":"LinearAxis"},{"id":"e286d0b3-e6bf-4aa2-bf60-6f664c3e59d7","type":"Grid"},{"id":"b2c34c1b-c54d-4eac-b0fd-306dc57eeeda","type":"Legend"},{"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"},{"id":"bdde2269-c396-40df-80c7-1db3c9e977ac","type":"GlyphRenderer"},{"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"}],"right":[{"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"7051cf75-e42f-40ea-9651-82a01e087e40","type":"ToolEvents"},"tools":[{"id":"5ca0c5a9-c495-46ea-89f7-3a4a367a87ca","type":"PreviewSaveTool"},{"id":"577c6cfc-2502-42e8-b984-bb0c29ba6efd","type":"ResetTool"},{"id":"5cc76367-0185-442d-8657-d82389af2075","type":"ResizeTool"},{"id":"a660886d-9750-4244-9476-e66bb4fcb74e","type":"WheelZoomTool"},{"id":"61f9eece-b20a-45fd-985f-a3d03e4ece68","type":"PanTool"}],"x_range":{"id":"88c0e3ea-79f7-423c-ad84-81184f59a45f","type":"Range1d"},"y_range":{"id":"fdf34fbd-7975-4ace-afba-98d4458ad520","type":"Range1d"}},"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"516c8d63-4020-42ea-a5ee-2780910c6f49","type":"ColumnDataSource"},"glyph":{"id":"0b41ca56-601f-4470-9870-7c481b9bb8d4","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"981755b0-50bf-45c4-82e8-30aebd5d23ae","type":"Line"},"selection_glyph":null},"id":"2e00eb82-495a-4768-b5fa-5fa61ac89eaa","type":"GlyphRenderer"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0223708379999152,2.02343192599983,3.0248753460000444,4.026222606999909,5.0273911029999,6.028714559000036,7.030063113999859,8.031391831000292,9.032737913999881,10.03410111499943,11.035390369000197,12.036717809999573],"y":[3311.292416,3383.13216,3417.382912,3457.78176,3495.763968,3536.945152,3574.521856,3614.531584,3652.919296,3690.733568,3729.391616,3770.187776,3805.933568]}},"id":"542704e8-6bdb-42b3-a11f-530076d5243f","type":"ColumnDataSource"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"24701fbd-d33e-4ef8-a5a3-e56e53a21a6b","type":"BasicTickFormatter"},"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"9427d135-5723-432d-8ebb-93968f85a9a5","type":"BasicTicker"},"y_range_name":"memory"},"id":"04050ffe-64a8-4987-b871-fb71fa5a9552","type":"LinearAxis"},{"attributes":{"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"29d8d6cc-5805-474f-894b-3b570af97872","type":"BasicTicker"}},"id":"d8756899-ed47-4bd1-b498-6978ea79464a","type":"Grid"},{"attributes":{},"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0135510800000702,2.013942878999842,3.0152597280002738,4.016524435000065,5.017921268999999,6.019228870999541,7.020527898999717,8.021817383999405,9.023133808000239,10.024012222000238,11.02529885199965,12.026611796999532,13.027873502000148,14.029220548000012,15.030044266000004,16.031310898999436,17.032585361999736,18.033854653000162,19.035136315999807,20.03646444900005,21.037771784000142,22.039084873999855,23.04039633100001,24.041670554999655,25.042087030999937,26.04337097000007,27.044635510999797,28.045981856999788,29.047259826999834,30.048519316000238,31.049779412000134,32.05115518899947,33.05241398999988,34.05345779700019,35.05407050199938,36.05537967199962,37.05666489899977,38.058009794999634,39.05935806100024,40.06064376199993,41.06192095799997,42.06319961400004,43.06445408899981,44.06571151099979,45.06606845999977,46.06732114599981,47.0677623900001,48.069048071,49.07039917400016,50.07171326400021,51.072963693999554,52.07406192599956,53.075356524999734,54.07664151500012,55.07795459599947,56.07926128700001,57.08052644599957,58.08178818899978,59.0828762229994,60.084138585999426,61.08538540999962,62.086642381000274,63.08793555699958,64.08921570099938,65.09008079700016,66.09136235599999,67.09263568200004,68.09393601299962,69.09522888599986,70.09654074399987,71.09781714000019,72.09922687000017,73.10056315099973,74.10194202799994,75.10323477200018,76.10425843400026,77.10554918100024],"y":[0.0,98.7,91.0,85.9,96.9,94.9,97.9,100.9,98.9,97.9,94.9,96.9,105.9,102.9,98.9,107.9,104.9,94.9,104.9,109.9,106.9,92.9,103.9,106.9,111.9,104.0,107.9,100.9,106.9,102.9,106.9,110.9,104.9,106.9,104.9,112.9,101.9,109.9,107.9,106.9,109.9,107.9,107.9,113.9,107.9,108.0,106.9,112.9,115.8,105.9,110.9,118.8,113.9,113.9,112.9,113.8,113.9,116.9,114.9,117.9,116.9,119.9,103.9,112.9,115.8,116.9,117.9,116.9,122.8,121.8,107.9,121.8,119.8,119.8,125.8,117.8,127.9,122.8]}},"id":"516c8d63-4020-42ea-a5ee-2780910c6f49","type":"ColumnDataSource"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"508195b0-9778-48d1-a167-a2ea03ae30d7","type":"Line"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"5cc76367-0185-442d-8657-d82389af2075","type":"ResizeTool"},{"attributes":{},"id":"29d8d6cc-5805-474f-894b-3b570af97872","type":"BasicTicker"},{"attributes":{"data_source":{"id":"e7a5e59a-cc40-4a82-b271-e083a8c75e1a","type":"ColumnDataSource"},"glyph":{"id":"82e8d81d-b6a3-4cdd-b295-36106ec019a1","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"43a10572-c736-4eac-824d-2bc9d8e0a953","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"},{"attributes":{},"id":"b3a6b0c5-c019-4835-b5f1-52397665f19f","type":"BasicTickFormatter"},{"attributes":{"dimension":1,"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"}},"id":"6973629f-d932-4ac6-bbaf-9854588d9108","type":"Grid"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"d6f6188c-4ea9-49b5-b7fb-a8ccbf9dabda","type":"Line"},{"attributes":{"callback":null,"end":1835.99104,"start":1302.884352},"id":"21494bf7-f098-4aba-b432-4fa0b824ee5b","type":"Range1d"},{"attributes":{},"id":"9427d135-5723-432d-8ebb-93968f85a9a5","type":"BasicTicker"},{"attributes":{"dimensions":["width"],"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"}},"id":"ef2b726f-4507-4301-961c-a81edc73d7d8","type":"WheelZoomTool"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"c6d61dde-16c4-4ad8-b160-10affe815963","type":"Line"},{"attributes":{},"id":"7473dbfc-b124-4c91-af3e-aeb196c7326e","type":"BasicTickFormatter"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"b50c5576-229a-44cd-a3c6-7797a2839c33","type":"BasicTickFormatter"},"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},"ticker":{"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"}},"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"},{"attributes":{},"id":"48339c3b-084a-49bd-a24a-fcd7c4a83f10","type":"BasicTickFormatter"},{"attributes":{},"id":"792b4232-6891-4650-94ab-36edca09a482","type":"BasicTickFormatter"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"e2cc577d-6b43-4248-8906-fe420ac7b6cc","type":"Line"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0135510800000702,2.013942878999842,3.0152597280002738,4.016524435000065,5.017921268999999,6.019228870999541,7.020527898999717,8.021817383999405,9.023133808000239,10.024012222000238,11.02529885199965,12.026611796999532,13.027873502000148,14.029220548000012,15.030044266000004,16.031310898999436,17.032585361999736,18.033854653000162,19.035136315999807,20.03646444900005,21.037771784000142,22.039084873999855,23.04039633100001,24.041670554999655,25.042087030999937,26.04337097000007,27.044635510999797,28.045981856999788,29.047259826999834,30.048519316000238,31.049779412000134,32.05115518899947,33.05241398999988,34.05345779700019,35.05407050199938,36.05537967199962,37.05666489899977,38.058009794999634,39.05935806100024,40.06064376199993,41.06192095799997,42.06319961400004,43.06445408899981,44.06571151099979,45.06606845999977,46.06732114599981,47.0677623900001,48.069048071,49.07039917400016,50.07171326400021,51.072963693999554,52.07406192599956,53.075356524999734,54.07664151500012,55.07795459599947,56.07926128700001,57.08052644599957,58.08178818899978,59.0828762229994,60.084138585999426,61.08538540999962,62.086642381000274,63.08793555699958,64.08921570099938,65.09008079700016,66.09136235599999,67.09263568200004,68.09393601299962,69.09522888599986,70.09654074399987,71.09781714000019,72.09922687000017,73.10056315099973,74.10194202799994,75.10323477200018,76.10425843400026,77.10554918100024],"y":[228.61824,289.886208,297.426944,301.494272,307.441664,312.266752,318.23872,326.4512,333.398016,341.610496,346.206208,351.870976,358.023168,363.175936,366.583808,379.82208,383.504384,389.423104,387.612672,400.9984,406.945792,411.000832,416.129024,426.04544,430.10048,437.129216,443.61728,448.622592,453.685248,463.417344,466.644992,471.781376,478.199808,483.86048,494.403584,496.39424,501.526528,513.769472,514.441216,524.435456,536.059904,536.825856,542.80192,550.42048,556.494848,561.872896,569.32352,576.155648,584.634368,587.608064,596.041728,603.967488,608.19456,617.992192,619.700224,629.444608,632.127488,639.418368,647.72096,655.83104,665.829376,669.843456,678.223872,682.76224,688.689152,698.691584,705.98656,711.933952,716.570624,727.461888,733.724672,741.76512,743.91552,755.298304,760.000512,767.832064,776.032256,771.571712]}},"id":"49d719d9-2663-4001-af6b-4de02e486a74","type":"ColumnDataSource"},{"attributes":{"axis_label":"Memory (MB)","formatter":{"id":"0ae43466-d52e-4327-98ba-f4beae6ccb3c","type":"BasicTickFormatter"},"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"e6ee2feb-7cd1-46c9-a66d-ea8d3f63438f","type":"BasicTicker"},"y_range_name":"memory"},"id":"292e0feb-4e93-4abb-b6c3-c795dc9f08d7","type":"LinearAxis"},{"attributes":{},"id":"52017a69-4a8a-4fc5-8189-86207b7ced7f","type":"BasicTicker"},{"attributes":{},"id":"0882b550-b19b-4d0e-b954-92f92f49334b","type":"BasicTickFormatter"},{"attributes":{"callback":null,"end":588.2},"id":"ed7df254-b1af-4da0-a798-84aba3e2ffe7","type":"Range1d"},{"attributes":{"legends":[["% CPU",[{"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"}]],["Memory",[{"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"}]]],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"134bbbda-420a-4102-a37b-9cc5725d7aa9","type":"Legend"},{"attributes":{"data_source":{"id":"542704e8-6bdb-42b3-a11f-530076d5243f","type":"ColumnDataSource"},"glyph":{"id":"d00116d4-147d-4ee8-9822-534b524cb430","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"d13c22f8-2b37-46e1-a40b-6728bcf5ff5a","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"7c56b5f8-a16f-4439-b15b-8673366c80a5","type":"GlyphRenderer"},{"attributes":{"dimensions":["width"],"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"a660886d-9750-4244-9476-e66bb4fcb74e","type":"WheelZoomTool"},{"attributes":{},"id":"b50c5576-229a-44cd-a3c6-7797a2839c33","type":"BasicTickFormatter"},{"attributes":{},"id":"bfa6349a-fc44-4632-9fa8-d9743451c495","type":"BasicTicker"},{"attributes":{},"id":"b4aef5d5-7c11-466c-83d0-c5a4016e454d","type":"ToolEvents"},{"attributes":{"below":[{"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"21494bf7-f098-4aba-b432-4fa0b824ee5b","type":"Range1d"}},"left":[{"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"d5dbd81f-0da9-488b-8d39-d347179025c6","type":"LinearAxis"},{"id":"27476d00-7b03-4a4d-9328-cdd91d34d3bd","type":"Grid"},{"id":"7854e948-1950-4a1f-92b6-0ad45b7e92a5","type":"LinearAxis"},{"id":"6973629f-d932-4ac6-bbaf-9854588d9108","type":"Grid"},{"id":"134bbbda-420a-4102-a37b-9cc5725d7aa9","type":"Legend"},{"id":"86a74f01-690c-4605-9b7a-53b2138cd846","type":"GlyphRenderer"},{"id":"bad5a24a-23c8-4fbb-b474-b3e0cdc54591","type":"GlyphRenderer"},{"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"}],"right":[{"id":"209d402c-e26a-4d4b-8d80-dd0c9ae81c4e","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"513c1ecc-9b03-40de-ba9d-3fd85ccad57e","type":"ToolEvents"},"tools":[{"id":"14c1d1bd-6b7f-49a6-b9c2-4938da57f0f5","type":"PreviewSaveTool"},{"id":"58d9beec-dbf1-4dee-8c77-c8e17e619084","type":"ResetTool"},{"id":"827641a7-0c16-4865-8b75-0b14caa793d2","type":"ResizeTool"},{"id":"5c8c889f-3b3e-4315-a6e2-c68465216c51","type":"WheelZoomTool"},{"id":"855e855d-fdc2-4f82-9987-d5272a8b16d5","type":"PanTool"}],"x_range":{"id":"87bbf21d-5b7e-4de5-8c79-b8cf3f1e898b","type":"Range1d"},"y_range":{"id":"aee706fe-5b0d-45ad-b01e-0595b56cb272","type":"Range1d"}},"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"},{"attributes":{"legends":[["% CPU",[{"id":"63419e3c-45cc-402c-97cb-e72acfa4dd56","type":"GlyphRenderer"}]],["Memory",[{"id":"7c56b5f8-a16f-4439-b15b-8673366c80a5","type":"GlyphRenderer"}]]],"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"}},"id":"5246b7c0-8685-4fb6-8fac-deb8e3c3657f","type":"Legend"},{"attributes":{"dimensions":["width"],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"5c8c889f-3b3e-4315-a6e2-c68465216c51","type":"WheelZoomTool"},{"attributes":{"data_source":{"id":"0ee0d794-cc86-41a5-9be6-ecf10d97b461","type":"ColumnDataSource"},"glyph":{"id":"c6d61dde-16c4-4ad8-b160-10affe815963","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"a3c2a1e4-fd10-4366-bee6-805b13b78cc3","type":"Line"},"selection_glyph":null},"id":"5c9e8659-61ec-457b-b69f-eb39034e4277","type":"GlyphRenderer"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"},"ticker":{"id":"53f228de-7903-42c6-94b9-2b5deb7ffea2","type":"BasicTicker"}},"id":"b24bd57f-b7b1-461b-bdcc-b6293aa6c0ad","type":"Grid"},{"attributes":{"line_color":{"value":"#253494"},"line_width":{"value":4},"x":{"field":"x"},"y":{"field":"y"}},"id":"0b41ca56-601f-4470-9870-7c481b9bb8d4","type":"Line"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"14c1d1bd-6b7f-49a6-b9c2-4938da57f0f5","type":"PreviewSaveTool"},{"attributes":{"below":[{"id":"78e4b73b-2887-4d3a-893c-5461f5f1da9e","type":"LinearAxis"}],"extra_y_ranges":{"memory":{"id":"dd49551b-11f5-4d8c-9831-e4ff20df26d7","type":"Range1d"}},"left":[{"id":"33fccd02-82aa-4ac9-9120-428a357bf0c3","type":"LinearAxis"}],"plot_height":300,"plot_width":800,"renderers":[{"id":"78e4b73b-2887-4d3a-893c-5461f5f1da9e","type":"LinearAxis"},{"id":"d8756899-ed47-4bd1-b498-6978ea79464a","type":"Grid"},{"id":"33fccd02-82aa-4ac9-9120-428a357bf0c3","type":"LinearAxis"},{"id":"416b2636-c72a-47e1-82fb-094446bb382a","type":"Grid"},{"id":"bd627055-4a86-4460-b239-19d2695474e3","type":"Legend"},{"id":"5c9e8659-61ec-457b-b69f-eb39034e4277","type":"GlyphRenderer"},{"id":"bb458f33-514e-4098-8411-93b81f22a17a","type":"GlyphRenderer"},{"id":"292e0feb-4e93-4abb-b6c3-c795dc9f08d7","type":"LinearAxis"}],"right":[{"id":"292e0feb-4e93-4abb-b6c3-c795dc9f08d7","type":"LinearAxis"}],"title":"Profile Results","tool_events":{"id":"dc8ea985-ec72-4388-82b3-b089416e179c","type":"ToolEvents"},"tools":[{"id":"78824c43-8b15-4ef8-b580-0b34f11b5c29","type":"PreviewSaveTool"},{"id":"e2da854c-96c3-4288-9237-fc265299fe64","type":"ResetTool"},{"id":"19e9b9cd-5d1d-473f-a2db-8e26fb25a801","type":"ResizeTool"},{"id":"eb5c2303-fe6f-44e6-a21d-c09a0e35ff2a","type":"WheelZoomTool"},{"id":"ac97fe51-1db0-48fd-a980-d799a7cc8cac","type":"PanTool"}],"x_range":{"id":"f30384d2-b316-4206-a0df-88e1bf8968d3","type":"Range1d"},"y_range":{"id":"ed7df254-b1af-4da0-a798-84aba3e2ffe7","type":"Range1d"}},"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0119508319994566,2.0132127009992473,3.0146199979999437,4.015993668999727,5.017424059999939,6.0188558889994965,7.020132896999712,8.021467203999237,9.022818382999503,10.02416176999941,11.0255814559996,12.0268771129995,13.028232708999894,14.029470241999661,15.03092040499996,16.032264325999677],"y":[2400.751616,2464.29696,2490.011648,2514.264064,2548.441088,2580.402176,2605.543424,2631.766016,2664.747008,2695.217152,2727.899136,2756.825088,2781.155328,2810.093568,2840.911872,2874.1632,2900.21376]}},"id":"6d0175e6-0ef0-4077-b58b-b05ad08daee2","type":"ColumnDataSource"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"827641a7-0c16-4865-8b75-0b14caa793d2","type":"ResizeTool"},{"attributes":{"callback":null,"column_names":["x","y"],"data":{"x":[0.0,1.0126720180005577,2.013911607999944,3.015206441000373,4.0164325100004135,5.0177076270001635,6.018979396000759,7.020306979999987,8.021615334000671,9.022917589000826,10.02417941100066,11.02548157000001,12.026828859000489,13.028267953000068,14.02957323100054,15.030842904000565,16.032118297000125,17.033490238000013,18.034768228000758,19.036093790999985,20.037438420999933,21.038711508000233,22.039984742000343,23.04125255300005,24.042288111000744,25.043596869000794,26.044867279000755,27.046210215999963,28.046716122000362,29.04734337300033,30.048453833000167,31.049746932000744,32.051057813000625,33.05233316600061,34.05368161500064,35.05497923100029,36.05628922200049,37.0577022740008,38.058551429000545,39.05980304000059,40.0604355710002,41.06173267000031,42.06306555400079,43.06443460900027,44.065744965000704],"y":[0.0,129.4,191.8,189.8,191.8,188.8,190.8,186.8,188.8,189.8,189.8,191.8,184.7,185.7,191.8,191.8,190.7,190.7,191.7,189.7,191.7,190.8,191.8,190.8,190.8,189.8,191.8,190.7,189.9,193.9,189.8,189.8,191.7,188.7,192.7,191.8,189.7,191.7,190.8,190.8,187.9,191.8,190.7,189.7,188.7]}},"id":"0e76dd1d-1977-475f-a57b-b1ceb9023fa9","type":"ColumnDataSource"},{"attributes":{},"id":"3b16963b-3719-42ae-889f-eb1495602dc2","type":"BasicTicker"},{"attributes":{"axis_label":"% CPU","formatter":{"id":"ffd22abb-b0e2-4080-a0d0-94f9ad2cc521","type":"BasicTickFormatter"},"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"},"ticker":{"id":"3b16963b-3719-42ae-889f-eb1495602dc2","type":"BasicTicker"}},"id":"33fccd02-82aa-4ac9-9120-428a357bf0c3","type":"LinearAxis"},{"attributes":{"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"}},"id":"75bc02e8-4df1-46e1-849f-3c96e31b673e","type":"ResizeTool"},{"attributes":{"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"58d9beec-dbf1-4dee-8c77-c8e17e619084","type":"ResetTool"},{"attributes":{"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"}},"id":"85632912-b925-491a-8024-4e25d6ae2f67","type":"ResetTool"},{"attributes":{"plot":{"id":"923df538-0454-4d38-a2f3-270ef2899725","subtype":"Figure","type":"Plot"}},"id":"798fc4c7-b29b-4d2b-9618-d5a5efb3f569","type":"PreviewSaveTool"},{"attributes":{"dimensions":["width"],"plot":{"id":"2a3e27c4-4467-4009-9bac-22c008c73be0","subtype":"Figure","type":"Plot"}},"id":"855e855d-fdc2-4f82-9987-d5272a8b16d5","type":"PanTool"},{"attributes":{"plot":{"id":"0434e19f-6920-4860-b539-d1a3509f4024","subtype":"Figure","type":"Plot"}},"id":"78824c43-8b15-4ef8-b580-0b34f11b5c29","type":"PreviewSaveTool"},{"attributes":{"data_source":{"id":"6d0175e6-0ef0-4077-b58b-b05ad08daee2","type":"ColumnDataSource"},"glyph":{"id":"e8151fd9-cd25-4320-b7ca-6ce49a388c22","type":"Line"},"hover_glyph":null,"nonselection_glyph":{"id":"c7a74fdd-9d9d-4ba4-943f-8d9a227977c6","type":"Line"},"selection_glyph":null,"y_range_name":"memory"},"id":"bb458f33-514e-4098-8411-93b81f22a17a","type":"GlyphRenderer"},{"attributes":{"plot":{"id":"1d37b62f-1d83-4c53-b80e-496881e1e188","subtype":"Figure","type":"Plot"}},"id":"5ca0c5a9-c495-46ea-89f7-3a4a367a87ca","type":"PreviewSaveTool"},{"attributes":{"callback":null,"end":2900.21376,"start":2400.751616},"id":"dd49551b-11f5-4d8c-9831-e4ff20df26d7","type":"Range1d"},{"attributes":{},"id":"ffd22abb-b0e2-4080-a0d0-94f9ad2cc521","type":"BasicTickFormatter"}],"root_ids":["1d37b62f-1d83-4c53-b80e-496881e1e188","2a3e27c4-4467-4009-9bac-22c008c73be0","0434e19f-6920-4860-b539-d1a3509f4024","923df538-0454-4d38-a2f3-270ef2899725"]},"title":"Bokeh Application","version":"0.11.1"}};
            var render_items = [{"docid":"fe2fcaa6-b168-447b-92a8-8810f07cb925","elementid":"3412cc6c-b46b-4a59-afd5-104808538696","modelid":"923df538-0454-4d38-a2f3-270ef2899725","notebook_comms_target":"ea067072-b958-40b9-b578-dfbf2056c7ce"}];
            
            Bokeh.embed.embed_items(docs_json, render_items);
        });
      },
      function(Bokeh) {
      }
    ];
  
    function run_inline_js() {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i](window.Bokeh);
      }
    }
  
    if (window._bokeh_is_loading === 0) {
      console.log("Bokeh: BokehJS loaded, going straight to plotting");
      run_inline_js();
    } else {
      load_libs(js_urls, function() {
        console.log("Bokeh: BokehJS plotting callback run at", now());
        run_inline_js();
      });
    }
  }(this));
</script>


So with input data in memory I can get almost full CPU utilisation.

## Distributed Dask + Zarr

I'm currently focused on making better use of multi-core processors, but others like [Matt Rocklin](https://github.com/mrocklin) are working on frameworks for large-scale distributed computing. After I released Zarr v0.4.0 in April, Matt got in touch to suggest a reorganization of the code so that Zarr arrays could be stored in distributed systems like S3 or HDFS. Earlier this week I [released Zarr v1.0.0](http://zarr.readthedocs.io/en/latest/release.html#release-1-0-0) which includes a new storage architecture to support this. Here is Matt on using the new version of Zarr with Dask and S3 on a 20 node (160 core) cluster...

<iframe width="560" height="315" src="https://www.youtube.com/embed/8WtaYvqhxHc" frameborder="0" allowfullscreen></iframe>

Dasks distributed scheduler looks seriously cool. Its exciting to think that computations Im currently coding to run in parallel via Dask on my multi-core desktop could in future be scaled up to a large compute cluster without any extra work at all.

## Further reading

To go with the new Zarr release there is some [new documentation](http://zarr.readthedocs.io/), including a [tutorial](http://zarr.readthedocs.io/en/latest/tutorial.html), [API reference](http://zarr.readthedocs.io/en/latest/api.html) and [storage specification](http://zarr.readthedocs.io/en/latest/spec/v1.html). Please bear in mind that Zarr is still a young project, so if you do take it for a spin, any [feedback is appreciated](https://github.com/alimanfoo/zarr/issues).

See also:

* [Dask](http://dask.pydata.org)
* [h5py](http://www.h5py.org/)
* [h5py parallel](http://docs.h5py.org/en/latest/mpi.html)


{% highlight python %}

{% endhighlight %}
