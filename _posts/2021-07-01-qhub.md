---
layout: post
title: JupyterHub + Dask on Google Cloud via QHub
---

Stating the obvious, but when you're working with large datasets, access to good tools and computing infrastructure really matters. Back in 2019, we started an internal project to deploy [JupyterHub](https://jupyter.org/hub) and [Dask](https://dask.org/) on Google Cloud, following the example set by the [Pangeo project](https://pangeo.io/). Having access to Jupyter in the cloud, with Dask clusters on demand, has proved to be very valuable for our genomic data science team at MalariaGEN, and we've come to rely on it for much of our work. However, our devops engineer Krzysztof Kluczynski ([@sledops](https://github.com/slejdops)) who originally set up the system for us got pulled onto other projects, and didn't have much time to keep up with maintaining the system. Recently, I was pointed to a new project called [QHub](https://docs.qhub.dev/), which provides infrastructure-as-code for deploying JupyterHub and Dask on your cloud provider of choice. This looked like a very attractive proposition for upgrading our system and reducing the maintenance burden, as many of the complexities of integrating the various technologies and deploying them on cloud infrastructure are potentially taken care of. QHub is a relatively new project, however, so I thought I'd try it out to learn more. 

With QHub, you edit a single YAML configuration file which specifies everthing about your infrastructure, including which cloud provider you want to use, how users will authenticate, what types of VM they can use, what conda environments are available, etc. Then the `qhub deploy` command takes care of creating or modifying all the infrastructure and services needed. Behind the scenes, `qhub deploy` uses [Terraform](https://www.terraform.io/), which then interacts with your chosen cloud provider via [Kubernetes](https://kubernetes.io/). I'm no devops engineer, and I know next-to-nothing abut Kubernetes or Terraform; but the QHub project is aiming to make deployment simple enough that data science teams can manage it themselves, so putting it in the hands of a mosquito biologist is probably not a bad test.

TL;DR after about a week of experimentation I've got to a good place, with a fully functioning JupyterHub deployment on Google Cloud, with autoscaling Dask clusters on demand. I've also figured out processes for doing much of the maintenance I know I'll need, including adding or updating the conda environments that are available to users, and making enhancements to the Docker image which runs the main Jupyter Lab service that users interact with. There were a few bumps along the way, however, and I had to come up with a few hacks and workarounds, so I thought it might be worth sharing the experience.

N.B., all of the below was done using QHub version 0.3.11. The project looks like it's moving pretty fast, so much if not all of this will probably get out of date very soon. Check in with the [QHub docs](https://docs.qhub.dev/) for latest information.

## Vanilla deployment

Here I'm deploying on Google Cloud. I've previously created a Google
Cloud account and set up billing. I also have conda installed on my
local system. Here's a summary of everything I did to get a vanilla deployment up and running, which all went smoothly. Most of this is just following the Getting Started section in the  [QHub docs](https://docs.qhub.dev/).

On the local computer, create a new conda environment and install qhub into it.

```bash
conda create --name qhub python=3.7
conda activate qhub
conda install -c conda-forge qhub=0.3.11
```

On GCP, [create a Google Service
Account](https://cloud.google.com/iam/docs/creating-managing-service-accounts)
with owner level permissions.

[Create and download a JSON credentials
file](https://cloud.google.com/iam/docs/creating-managing-service-account-keys#iam-service-account-keys-create-console). Then move to an appropriate location on local filesystem.

```bash
mkdir ~/.gcp
mv ~/Downloads/XXXX.json ~/.gcp
chmod -Rv g-rwx ~/.gcp
chmod -Rv o-rwx ~/.gcp
cd ~/.gcp
export GOOGLE_CREDENTIALS="/home/${USER}/.gcp/XXXXjson"
```

In order to allow qhub to create and initialise a GitHub repository, I first needed to create a [GitHub personal access token](https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token). Then set environment variables.

```bash
export GITHUB_USERNAME=[github username]
export GITHUB_TOKEN=[token value]
```

Then initialize the qhub configuration:

```bash
qhub init gcp --project your-gcp-project --domain www.example.com --ci-provider github-actions --auth-provider github --auth-auto-provision --repository github.com/foo/bar --repository-auto-provision
```

...replacing "your-gcp-project" with the GCP project you want to use; replacing "www.example.com" with the domain name where you want to deploy the JupyterHub service; and replacing "github.com/foo/bar" with the GitHub URL where you want to store the source code.

In the process, to enable GitHub authentication, I followed these instructions:

```bash
Visit https://github.com/settings/developers and create oauth application
  set the homepage to: https://www.example.com/
  set the callback_url to: https://www.example.com/hub/oauth_callback
Github client_id: [enter client ID]
Github client_secret: [enter client secret]
```

This created the initial qhub-config.yaml file.

Then run initial deployment:

```bash
qhub validate qhub-config.yaml
qhub deploy -c qhub-config.yaml
```

During this process, the IP address for the new service is returned to the console. I added a DNS A record pointing the domain name I chose to the IP shown.

I then added qhub-config.yaml and all the other files created during the deployment process to GitHub.


## Customisation, maintenance and lessons learned

After the initial deployment, it should be possible to make any changes needed to customise the service by editing qhub-config.yaml then rerunning:

```bash
qhub validate qhub-config.yaml
qhub deploy -c qhub-config.yaml
```

This generally worked, although I had a few mishaps, described below.


### CI/CD?

QHub creates GitHub actions scripts which, in theory, should handle automatic redeployment of the service after any changes to qhub-config.yaml are merged into the main branch. However, at the time my GitHub account did not have actions enabled, and in hindsight I'm glad it didn't, because it forced me to run redeployment manually from the command line. There are several things I did which broke the deployment, and it would have been harder to debug that via CI logs. I'd suggest turning off GitHub actions and running everything from the command line, at least until you have the service fully customised and expect minimal maintenance.


### Plan for multiple deployments

As mentioned above, it looks like the QHub project is moving pretty fast, and I have no idea how easy it will be to migrate/upgrade a running service to a future qhub version. To be on the safe side, I plan to deploy a separate service for each new qhub release. I.e., when a new qhub release comes along, I'll deploy a new service, then ask my teammates to migrate. Once migrated and we're happy the new service is good, I'll take down the old one. I chose a domain name to make this easy to communicate (e.g., "hey friends, please migrate from hub1.example.com to hub2.example.com some time in the next week").


### Managing conda environments

The conda environments available to users are managed by adding conda environment specifications inline within qhub-config.yaml then redeploying. Users cannot create or modify conda environments themselves. This might seem a little restrictive, but the goals of a shared service like this include (1) ensuring team members use the same environments, and (2) ensuring the same environment is used for running Jupyter notebooks and Dask clusters; so this is probably for the best. 

I did, however, find that for more complicated environments with lots of packages, I could solve the environment locally but it failed to solve on the service, and thus did not appear after logging in to JupyterHub. The symptom of this is when log files continue appearing in the `/home/conda/store/.logs` directory saying that the environment is solving, but actually it never gets solved (at some point it must give up).

The workaround for this was to first of all create an environment file on the local file system, then use conda to solve it locally, then export the fully solved environment to a temporary file, then copy-paste the solved environment specification into qhub-config.yaml. I also decided to add a datestamp in the name of the solved environment, to allow the possibility to solve in future to get new package versions, but still have access to the old environment. E.g., I created a file at `customisation/environments/environment-foo.yaml` with my required packages. Then I ran locally:

```
conda env create --name foo --force --file customisation/environments/environment-foo.yaml
conda activate foo
conda env export -f tmp.yaml
```  

...then copy-paste the contents of `tmp.yaml` into the `environments` section of qhub-config.yaml, renaming the environment to "foo-20210708".

I also added the directory "customisation" to a `.qhubignore` file to prevent it getting deleted when running `qhub deploy`.


### Optimising k8s resource requests

As part of the customisation I wanted to add some new profiles for the VMs that users can launch to run their JupyterLab server, and also the profiles available for running Dask workers. In particular, we have some workloads that require more memory, so I wanted to make sure larger VMs could be used. In configuring these new profiles, I learned a bit about how k8s schedules pods onto nodes, based on resources requested and allocatable. In particular, k8s reserves some CPU and memory to run system stuff. So, e.g., if you have pods that each request 1 CPU, and you're running them on a pool of e2-standard-4 machines, then you won't get four pods per machine; instead you'll get three pods on a machine with some spare CPU left unused. However, if you reduce this a bit to 0.9 CPU per pod, then you will get four pods on one machine and very little wasted resource. Something similar goes for memory. In theory an e2-standard-4 machine can allocate up to 3.9 CPU and 13.9 GB memory, or thereabouts. I found that out by looking at the Kubernetes section of the Google Cloud console, you can see allocatable resources shown for each node in a cluster.

The full config file with the node pool and profile configurations I chose is included at the bottom of this blog post. 


### Adding OS packages and lab extensions

The default docker image used to run the user's JupyterLab server is pretty slim, it doesn't have some command line utilities you might want. The vanilla configuration uses a docker image built by the qhub team (`quansight/qhub-jupyterlab:v0.3.11`) but you can build your own. The source code for the docker image is actually output by the `qhub deploy` command and can be found in the `image` directory on the local file system. However, you don't want to edit that file directly, because it gets rewritten every time you run `qhub deploy`. Instead, what I did was copy the contents of the "image" folder to "customisation/image". 

To set up the local system to build and push docker images, I did the following:

* Install latest docker (I've been running 20.10.7) and give myself permissions to run docker (member of the docker group).

* Have the `GOOGLE_CREDENTIALS` environment variable exported (see above).

* Have `gcloud` installed on your local system.

* Authorise docker to push to Google container repository:

```
gcloud auth activate-service-account --key-file=$GOOGLE_CREDENTIALS
gcloud auth configure-docker
```

Then to add new apt packages to the user (jupyterlab) image:

* Edit the file at `customisation/image/jupyterlab/apt.txt` and add the package(s) needed.

* Export variables for the image name and tag:

```
export IMAGE_NAME="gcr.io/<your-gcp-project>/<your-deployment-name>/qhub-jupyterlab"
export IMAGE_TAG=20210703  # replace with current date
```

* Build the image:

```
cd customisation
docker build -f image/Dockerfile.jupyterlab -t $IMAGE_NAME:$IMAGE_TAG image
```

* Push the image to GCR:

```
docker push $IMAGE_NAME:$IMAGE_TAG
```

* Edit the qhub-config.yaml file to update the image for any profiles you want to use it.

* Run redeployment:
  
```
qhub validate qhub-config.yaml
qhub deploy -c qhub-config.yaml --disable-prompt
```

Similarly, to modify JupyterLab (e.g., add an extension like jupyter-resource-usage or nbgitpuller, or a package like plotly which includes a lab extension) I modified the `customisation/image/jupyterlab/environment.yaml` file, then rebuilt and pushed a new docker image.


### Managing storage

@@TODO storage resizing

@@TODO storage quotas


### Manual destruction - the last resort

In theory, for any configuration changes, it should be possible to
edit `qhub-config.yaml` then rerun `qhub deploy -c qhub-config.yaml`
and everything should just work.

In practise, if your configuration is valid syntax but bad for some reason, or if your internet connection gets interrupted, this can fail, and terraform can get into an unrecoverable state.

To destroy the deployment and start from scratch, it should be
possible to do:

```bash
qhub destroy -c qhub-config.yaml
```

However, sometimes this failed too.

In the case where the deployment gets into a state that cannot be fixed, recovered or destroyed via qhub, it is possible to manually destroy the deployment. To manually destroy, see the steps below.

Via Google Cloud console:

* GKE: Delete cluster
* GKE: Delete services
* GCE: Delete all instance groups (shouldn't be necessary if deleted GKE cluster)
* GCE: Delete all disks (shouldn't be necessary if deleted GKE cluster)
* GCS: Delete terraform state bucket
* IAM: Delete the service account create by qhub

On the local filesystem:

* Delete subdirectories created by qhub:

```
rm -rfv environments image infrastructure terraform-state
```

* Run redeployment:
  
```
qhub validate qhub-config.yaml
qhub deploy -c qhub-config.yaml
```

N.B., this will deploy to a new IP address, so the DNS will need to be updated too.


### Misc tips

* The qhub-config.yaml file has a `namespace` variable, set to "dev" initially. This then is used as the k8s namespace when deploying. Don't change this, leave it as "dev". Bad things happen if you try to change it.

* To get plotly to work, you have to install plotly in both the conda environment the user wants to use to run their notebooks, **and** in the default conda environment baked into the jupyterlab docker image.

* Terraform state - bucket is important. Local state too. Can blow local state away, will get refreshed from remote. 


## Open questions/requirements


### Dask pinning

@@TODO currently pinning dask and distributed is required according to
docs. But some way behind. Totally understand the need to pin, this is
a complicated set of technologies. But will need to be able to manage
this and move forward. See also discussion.


## Final working configuration

Here's the config file as I currently have it, in case it's useful.

```yaml
# N.B., the project_name here can be different from GCP project.
project_name: datalab-abafar
provider: gcp
domain: hub1.example.com

certificate:
  type: lets-encrypt
  acme_email: sysadmin@malariagen.net
  acme_server: https://acme-v02.api.letsencrypt.org/directory

security:

  authentication:
    type: GitHub
    config:
      client_id: XXXX
      client_secret: XXXX
      oauth_callback_url: https://hub1.example.com/hub/oauth_callback

  users:
    alimanfoo:  # Alistair Miles
      uid: 1001
      primary_group: admin
      secondary_groups:
      - malariagen_team
      - users
    leehart:  # Lee Hart
      uid: 1002
      primary_group: admin
      secondary_groups:
      - malariagen_team
      - users
    slejdops:  # Krzysztof Kluczynski
      uid: 1003
      primary_group: admin
      secondary_groups:
      - malariagen_team
      - users
    cclarkson:  # Chris Clarkson
      uid: 1004
      primary_group: admin
      secondary_groups:
      - malariagen_team
      - users
    bstlaure:  # Brandy St. Laurent
      uid: 1005
      primary_group: malariagen_team
      secondary_groups:
      - users
    jonbrenas:  # Jon Brenas
      uid: 1006
      primary_group: malariagen_team
      secondary_groups:
      - users
    amakunin:  # Alex Makunin
      uid: 1007
      primary_group: malariagen_team
      secondary_groups:
      - users
    podpearson:  # Richard Pearson
      uid: 1008
      primary_group: malariagen_team
      secondary_groups:
      - users
    roamato:  # Roberto Amato
      uid: 1009
      primary_group: malariagen_team
      secondary_groups:
      - users
    benkraj:  # Ben Krajacich (Lehmann group)
      uid: 1010
      primary_group: malariagen_partner
      secondary_groups:
      - users
    sanjaynagi:  # Sanjay Nagi (LSTM)
      uid: 1011
      primary_group: malariagen_partner
      secondary_groups:
      - users
    wlhamilton:  # Will Hamilton
      uid: 1012
      primary_group: malariagen_team
      secondary_groups:
      - users
    seretol:  # Olivier Seret
      uid: 1012
      primary_group: malariagen_team
      secondary_groups:
      - users
    jalmagro:  # Jacob Almagro
      uid: 1013
      primary_group: malariagen_team
      secondary_groups:
      - users
    JonKeatley112:  # Jon Keatley
      uid: 1014
      primary_group: malariagen_team
      secondary_groups:
      - users
    octopuspants:  # Mara Lawniczak
      uid: 1015
      primary_group: malariagen_team
      secondary_groups:
      - users
    magnusmanske:  # Magnus Manske
      uid: 1016
      primary_group: malariagen_team
      secondary_groups:
      - users
    olivo-miotto:  # Olivo Miotto
      uid: 1017
      primary_group: malariagen_team
      secondary_groups:
      - users
    sclaugoncalves:  # Sonia Goncalves
      uid: 1018
      primary_group: malariagen_team
      secondary_groups:
      - users
    tnguyensanger:  # Thuy Nguyen
      uid: 1019
      primary_group: malariagen_team
      secondary_groups:
      - users
    ss46:  # Sasha Siegel
      uid: 1020
      primary_group: malariagen_team
      secondary_groups:
      - users
    cristinaariani:  # Cristina Ariani
      uid: 1021
      primary_group: malariagen_team
      secondary_groups:
      - users
    eldrury78:  # Eleanor Drury
      uid: 1022
      primary_group: malariagen_team
      secondary_groups:
      - users
    GvandeSteeg:  # Guus van de Steeg
      uid: 1023
      primary_group: malariagen_team
      secondary_groups:
      - users
    gwhittonx:  # Georgia Whitton
      uid: 1024
      primary_group: malariagen_team
      secondary_groups:
      - users
    JasonAHendry:  # Jason Hendry
      uid: 1025
      primary_group: malariagen_team
      secondary_groups:
      - users
    Lfulcrum:  # William Roberts
      uid: 1026
      primary_group: malariagen_team
      secondary_groups:
      - users
    mariloubodde:  # Marilou Bodde
      uid: 1027
      primary_group: malariagen_team
      secondary_groups:
      - users
    martin-donnelly:  # Martin Donnelly
      uid: 1028
      primary_group: malariagen_team
      secondary_groups:
      - users
    Mozam-Ali:  # Mozam Ali
      uid: 1029
      primary_group: malariagen_team
      secondary_groups:
      - users
    puethe:  # Christoph Puethe
      uid: 1030
      primary_group: malariagen_team
      secondary_groups:
      - users
    EricRLucas:  # Eric Lucas (LSTM)
      uid: 1031
      primary_group: malariagen_team
      secondary_groups:
      - users
    gavinband:  # Gavin Band
      uid: 1032
      primary_group: malariagen_team
      secondary_groups:
      - users
    korlevic:  # Petra Korlevic
      uid: 1032
      primary_group: malariagen_team
      secondary_groups:
      - users
    amiejordi:  # Amie Jordi
      uid: 1033
      primary_group: malariagen_team
      secondary_groups:
      - users

  groups:
    users:
      gid: 100
    admin:
      gid: 101
    malariagen_team:
      gid: 102
    malariagen_partner:
      gid: 103

default_images:
  jupyterhub: quansight/qhub-jupyterhub:v0.3.11
  jupyterlab: quansight/qhub-jupyterlab:v0.3.11
  dask_worker: quansight/qhub-dask-worker:v0.3.11
  dask_gateway: quansight/qhub-dask-gateway:v0.3.11

storage:
  conda_store: 60Gi
  shared_filesystem: 200Gi

theme:
  jupyterhub:
    hub_title: MalariaGEN DataLab (Abafar)
    hub_subtitle: A cloud computing environment for MalariaGEN team and partners
    welcome: >-
      Welcome to Abafar, a desert planet located in the Outer Rim with a completely
      white surface. Known as The Void, the planet is barely populated but is home
      to massive amounts of rhydonium, a scarce and volatile fuel. To request
      assistance or arrange for off-world transport, please send a communication via
      https://github.com/orgs/malariagen/teams/datalab-users - may the force be with
      you.
    logo: https://www.malariagen.net/sites/all/themes/malgen/logo.svg
    primary_color: '#4f4173'
    secondary_color: '#957da6'
    accent_color: '#32C574'
    text_color: '#111111'
    h1_color: '#652e8e'
    h2_color: '#652e8e'

cdsdashboards:
  enabled: true
  cds_hide_user_named_servers: true
  cds_hide_user_dashboard_servers: false

ci_cd:
  type: github-actions
  branch: main

terraform_state:
  type: remote

# N.B., don't change this, bad things will happen.
namespace: dev

google_cloud_platform:
  project: malariagen-jupyterhub
  region: us-central1
  zone: us-central1-c
  availability_zones:
  - us-central1-c
  kubernetes_version: 1.19.9-gke.1900

  node_groups:
    general:
      instance: n2-standard-2
      min_nodes: 1
      max_nodes: 1
    user:
      instance: e2-standard-4  # allocatable 3.92 CPU 13.94 GB
      min_nodes: 0
      max_nodes: 20
    user-highmem:
      instance: e2-highmem-4  # allocatable 3.92 CPU 27.77 GB
      min_nodes: 0
      max_nodes: 20
    worker:
      instance: e2-standard-4  # allocatable 3.92 CPU 13.94 GB
      min_nodes: 0
      max_nodes: 200
      preemptible: true
    worker-highmem:
      instance: e2-highmem-4  # allocatable 3.92 CPU 27.77 GB
      min_nodes: 0
      max_nodes: 200
      preemptible: true

profiles:
  jupyterlab:

  - display_name: Micro VM
    description: 0.5 cpu / 1.5 GB ram
    default: true
    kubespawner_override:
      # set the resources requested in order to fit eight pods into a standard-4 VM,
      # although allow to use up to ~1 CPU if available
      cpu_limit: 0.9
      cpu_guarantee: 0.45
      mem_limit: 1.5G
      mem_guarantee: 1.5G
      # image: quansight/qhub-jupyterlab:v0.3.11
      image: gcr.io/malariagen-jupyterhub/datalab-abafar/qhub-jupyterlab:20210705b

  - display_name: Small VM
    description: 1 cpu / 3 GB ram
    kubespawner_override:
      # set the resources requested in order to fit four pods into a standard-4 VM
      cpu_limit: 0.9
      cpu_guarantee: 0.9
      mem_limit: 3.0G
      mem_guarantee: 3.0G
      # image: quansight/qhub-jupyterlab:v0.3.11
      image: gcr.io/malariagen-jupyterhub/datalab-abafar/qhub-jupyterlab:20210705b

  - display_name: Medium VM
    description: 2 cpu / 6 GB ram
    kubespawner_override:
      # set the resources requested in order to fit two pods into a standard-4 VM
      cpu_limit: 1.8
      cpu_guarantee: 1.8
      mem_limit: 6.0G
      mem_guarantee: 6.0G
      # image: quansight/qhub-jupyterlab:v0.3.11
      image: gcr.io/malariagen-jupyterhub/datalab-abafar/qhub-jupyterlab:20210705b

  - display_name: Large VM
    description: 4 cpu / 12 GB ram
    kubespawner_override:
      # set the resources requested in order to fit one pod into a standard-4 VM
      cpu_limit: 3.6
      cpu_guarantee: 3.6
      mem_limit: 12.0G
      mem_guarantee: 12.0G
      # image: quansight/qhub-jupyterlab:v0.3.11
      image: gcr.io/malariagen-jupyterhub/datalab-abafar/qhub-jupyterlab:20210705b

  - display_name: High Memory VM
    description: 4 cpu / 27 GB ram
    kubespawner_override:
      # set the resources requested in order to fit one pod into a standard-4 VM
      cpu_limit: 3.6
      cpu_guarantee: 3.6
      mem_limit: 27.0G
      mem_guarantee: 27.0G
      # image: quansight/qhub-jupyterlab:v0.3.11
      image: gcr.io/malariagen-jupyterhub/datalab-abafar/qhub-jupyterlab:20210705b
      node_selector:
        "cloud.google.com/gke-nodepool": user-highmem

  dask_worker:

    "Standard Worker":
      # set the resources requested in order to fit four pods into a standard-4 VM
      worker_cores_limit: 0.9
      worker_cores: 0.9
      worker_memory_limit: 3.0G
      worker_memory: 3.0G
      worker_threads: 1
      image: quansight/qhub-dask-worker:v0.3.11
      scheduler_extra_pod_config:
        nodeSelector:
          # "cloud.google.com/gke-nodepool": user
          "cloud.google.com/gke-nodepool": worker
      worker_extra_pod_config:
        nodeSelector:
          "cloud.google.com/gke-nodepool": worker

    "High Memory Worker":
      # set the resources requested in order to fit four pods into a highmem-4 VM
      worker_cores_limit: 0.9
      worker_cores: 0.9
      worker_memory_limit: 6.75G
      worker_memory: 6.75G
      worker_threads: 1
      image: quansight/qhub-dask-worker:v0.3.11
      scheduler_extra_pod_config:
        nodeSelector:
          # "cloud.google.com/gke-nodepool": user
          "cloud.google.com/gke-nodepool": worker-highmem
      worker_extra_pod_config:
        nodeSelector:
          "cloud.google.com/gke-nodepool": worker-highmem

    "Very High Memory Worker":
      # set the resources requested in order to fit two pods into a
      # highmem-4 VM, although CPU probably won't be fully utilised as we
      # allow only 1 dask thread
      worker_cores_limit: 1.8
      worker_cores: 1.8
      worker_memory_limit: 13.5G
      worker_memory: 13.5G
      worker_threads: 1
      image: quansight/qhub-dask-worker:v0.3.11
      scheduler_extra_pod_config:
        nodeSelector:
          # "cloud.google.com/gke-nodepool": user
          "cloud.google.com/gke-nodepool": worker-highmem
      worker_extra_pod_config:
        nodeSelector:
          "cloud.google.com/gke-nodepool": worker-highmem

environments:

  "environment-basic.yaml":
    name: basic
    channels:
    - conda-forge
    - defaults
    dependencies:
    - python=3.7
    - ipykernel
    - ipywidgets
    - dask==2.30.0
    - distributed==2.30.1
    - dask-gateway==0.9.0
    - numpy
    - numba
    - pandas

  "environment-dashboard.yaml":
    name: dashboard
    channels:
    - conda-forge
    dependencies:
    - python =3.7
    - ipykernel
    - ipywidgets >=7.6
    - param
    - matplotlib >=3.3.4
    - panel >=0.10.3
    - voila >=0.2.7
    - streamlit >=0.76
    - dash >=1.19
    - cdsdashboards-singleuser >=0.5.6

  # Here we include a fully pinned environment specification. This
  # has been generated by creating an environment from the environment-abafar.yaml
  # file in the customisation/environments folder, then exporting the solved
  # environment and copy-pasting that exported environment specification below.
  "environment-abafar-20210701a.yaml":
    name: abafar-20210701a
    channels:
      - conda-forge
      - intake
      - defaults
    dependencies:
      - _libgcc_mutex=0.1=conda_forge
      - _openmp_mutex=4.5=1_llvm
      - aiobotocore=1.3.1=pyhd8ed1ab_0
      - aiohttp=3.7.4.post0=py37h5e8e339_0
      - aioitertools=0.7.1=pyhd8ed1ab_0
      - alsa-lib=1.2.3=h516909a_0
      - appdirs=1.4.4=pyh9f0ad1d_0
      - argon2-cffi=20.1.0=py37h5e8e339_2
      - asciitree=0.3.3=py_2
      - asteval=0.9.23=pyhd8ed1ab_0
      - async-timeout=3.0.1=py_1000
      - async_generator=1.10=py_0
      - atk-1.0=2.36.0=h3371d22_4
      - attrs=21.2.0=pyhd8ed1ab_0
      - backcall=0.2.0=pyh9f0ad1d_0
      - backports=1.0=py_2
      - backports.functools_lru_cache=1.6.4=pyhd8ed1ab_0
      - biopython=1.79=py37h5e8e339_0
      - blas=2.109=openblas
      - blas-devel=3.9.0=9_openblas
      - bleach=3.3.0=pyh44b312d_0
      - blinker=1.4=py_1
      - bokeh=2.3.2=py37h89c1867_0
      - botocore=1.20.49=pyhd8ed1ab_0
      - brotlipy=0.7.0=py37h5e8e339_1001
      - bzip2=1.0.8=h7f98852_4
      - c-ares=1.17.1=h7f98852_1
      - ca-certificates=2021.5.30=ha878542_0
      - cached-property=1.5.2=hd8ed1ab_1
      - cached_property=1.5.2=pyha770c72_1
      - cachetools=4.2.2=pyhd8ed1ab_0
      - cairo=1.16.0=h6cf1ce9_1008
      - certifi=2021.5.30=py37h89c1867_0
      - cffi=1.14.5=py37hc58025e_0
      - cftime=1.5.0=py37h6f94858_0
      - chardet=4.0.0=py37h89c1867_1
      - click=7.1.2=pyh9f0ad1d_0
      - cloudpickle=1.6.0=py_0
      - cryptography=3.4.7=py37h5d9358c_0
      - curl=7.77.0=hea6ffbf_0
      - cycler=0.10.0=py_2
      - cython=0.29.23=py37hcd2ae1e_1
      - cytoolz=0.11.0=py37h5e8e339_3
      - dask=2.30.0=py_0
      - dask-core=2.30.0=py_0
      - dask-gateway=0.9.0=py37h89c1867_0
      - dbus=1.13.6=h48d8840_2
      - debugpy=1.3.0=py37hcd2ae1e_0
      - decorator=5.0.9=pyhd8ed1ab_0
      - defusedxml=0.7.1=pyhd8ed1ab_0
      - distributed=2.30.1=py37h89c1867_0
      - entrypoints=0.3=pyhd8ed1ab_1003
      - et_xmlfile=1.0.1=py_1001
      - expat=2.4.1=h9c3ff4c_0
      - fasteners=0.16=pyhd8ed1ab_0
      - font-ttf-dejavu-sans-mono=2.37=hab24e00_0
      - font-ttf-inconsolata=3.000=h77eed37_0
      - font-ttf-source-code-pro=2.038=h77eed37_0
      - font-ttf-ubuntu=0.83=hab24e00_0
      - fontconfig=2.13.1=hba837de_1005
      - fonts-conda-ecosystem=1=0
      - fonts-conda-forge=1=0
      - freetype=2.10.4=h0708190_1
      - fribidi=1.0.10=h36c2ea0_0
      - fsspec=0.8.7=pyhd8ed1ab_0
      - future=0.18.2=py37h89c1867_3
      - gcsfs=0.7.2=pyhd8ed1ab_0
      - gdk-pixbuf=2.42.6=h04a7f16_0
      - gettext=0.19.8.1=h0b5b191_1005
      - giflib=5.2.1=h36c2ea0_2
      - glib=2.68.3=h9c3ff4c_0
      - glib-tools=2.68.3=h9c3ff4c_0
      - google-auth=1.32.0=pyh6c4a22f_0
      - google-auth-oauthlib=0.4.4=pyhd8ed1ab_0
      - graphite2=1.3.13=h58526e2_1001
      - graphviz=2.47.3=h85b4f2f_0
      - gsl=2.6=he838d99_2
      - gst-plugins-base=1.18.4=hf529b03_2
      - gstreamer=1.18.4=h76c114f_2
      - gtk2=2.24.33=h539f30e_1
      - gts=0.7.6=h64030ff_2
      - h5py=3.3.0=nompi_py37ha3df211_100
      - harfbuzz=2.8.1=h83ec7ef_0
      - hdf4=4.2.15=h10796ff_3
      - hdf5=1.10.6=nompi_h6a2412b_1114
      - heapdict=1.0.1=py_0
      - hmmlearn=0.2.5=py37h902c9e0_0
      - humanize=3.9.0=pyhd8ed1ab_0
      - icu=68.1=h58526e2_0
      - idna=2.10=pyh9f0ad1d_0
      - importlib-metadata=3.10.1=py37h89c1867_0
      - importlib_metadata=3.10.1=hd8ed1ab_0
      - iniconfig=1.1.1=pyh9f0ad1d_0
      - intake=0.6.2=pyhd8ed1ab_0
      - intake-xarray=0.5.0=pyhd8ed1ab_0
      - ipykernel=6.0.0=py37h085eea5_0
      - ipython=7.25.0=py37h085eea5_1
      - ipython_genutils=0.2.0=py_1
      - ipytree=0.2.1=pyhd8ed1ab_0
      - ipywidgets=7.6.3=pyhd3deb0d_0
      - jbig=2.1=h7f98852_2003
      - jdcal=1.4.1=py_0
      - jedi=0.18.0=py37h89c1867_2
      - jinja2=3.0.1=pyhd8ed1ab_0
      - jmespath=0.10.0=pyh9f0ad1d_0
      - joblib=1.0.1=pyhd8ed1ab_0
      - jpeg=9d=h36c2ea0_0
      - jsonschema=3.2.0=pyhd8ed1ab_3
      - jupyter_client=6.1.12=pyhd8ed1ab_0
      - jupyter_core=4.7.1=py37h89c1867_0
      - jupyterlab_pygments=0.1.2=pyh9f0ad1d_0
      - jupyterlab_widgets=1.0.0=pyhd8ed1ab_1
      - kiwisolver=1.3.1=py37h2527ec5_1
      - krb5=1.19.1=hcc1bbae_0
      - lcms2=2.12=hddcbb42_0
      - ld_impl_linux-64=2.36.1=hea4e1c9_0
      - lerc=2.2.1=h9c3ff4c_0
      - libblas=3.9.0=9_openblas
      - libcblas=3.9.0=9_openblas
      - libclang=11.1.0=default_ha53f305_1
      - libcurl=7.77.0=h2574ce0_0
      - libdeflate=1.7=h7f98852_5
      - libedit=3.1.20191231=he28a2e2_2
      - libev=4.33=h516909a_1
      - libevent=2.1.10=hcdb4288_3
      - libffi=3.3=h58526e2_2
      - libgcc-ng=9.3.0=h2828fa1_19
      - libgd=2.3.2=h78a0170_0
      - libgfortran-ng=9.3.0=hff62375_19
      - libgfortran5=9.3.0=hff62375_19
      - libglib=2.68.3=h3e27bee_0
      - libiconv=1.16=h516909a_0
      - liblapack=3.9.0=9_openblas
      - liblapacke=3.9.0=9_openblas
      - libllvm10=10.0.1=he513fc3_3
      - libllvm11=11.1.0=hf817b99_2
      - libnetcdf=4.8.0=nompi_hcd642e3_103
      - libnghttp2=1.43.0=h812cca2_0
      - libogg=1.3.4=h7f98852_1
      - libopenblas=0.3.15=pthreads_h8fe5266_1
      - libopus=1.3.1=h7f98852_1
      - libpng=1.6.37=h21135ba_2
      - libpq=13.3=hd57d9b9_0
      - librsvg=2.50.7=hc3c00ef_0
      - libsodium=1.0.18=h36c2ea0_1
      - libssh2=1.9.0=ha56f1ee_6
      - libstdcxx-ng=9.3.0=h6de172a_19
      - libtiff=4.3.0=hf544144_1
      - libtool=2.4.6=h58526e2_1007
      - libuuid=2.32.1=h7f98852_1000
      - libvorbis=1.3.7=h9c3ff4c_0
      - libwebp=1.2.0=h3452ae3_0
      - libwebp-base=1.2.0=h7f98852_2
      - libxcb=1.13=h7f98852_1003
      - libxkbcommon=1.0.3=he3ba5ed_0
      - libxml2=2.9.12=h72842e0_0
      - libzip=1.8.0=h4de3113_0
      - llvm-openmp=11.1.0=h4bd325d_1
      - llvmlite=0.36.0=py37h9d7f4d0_0
      - lmfit=1.0.2=pyhd8ed1ab_0
      - locket=0.2.0=py_2
      - lz4-c=1.9.3=h9c3ff4c_0
      - markupsafe=2.0.1=py37h5e8e339_0
      - matplotlib=3.4.2=py37h89c1867_0
      - matplotlib-base=3.4.2=py37hdd32ed1_0
      - matplotlib-inline=0.1.2=pyhd8ed1ab_2
      - mistune=0.8.4=py37h5e8e339_1004
      - monotonic=1.5=py_0
      - more-itertools=8.8.0=pyhd8ed1ab_0
      - msgpack-python=1.0.2=py37h2527ec5_1
      - msprime=1.0.1=py37he4a10e2_0
      - multidict=5.1.0=py37h5e8e339_1
      - mysql-common=8.0.25=ha770c72_2
      - mysql-libs=8.0.25=hfa10184_2
      - mysqlclient=2.0.3=py37hcd2ae1e_0
      - nbclient=0.5.3=pyhd8ed1ab_0
      - nbconvert=6.1.0=py37h89c1867_0
      - nbformat=5.1.3=pyhd8ed1ab_0
      - ncurses=6.2=h58526e2_4
      - nest-asyncio=1.5.1=pyhd8ed1ab_0
      - netcdf4=1.5.7=nompi_py37h946d57d_100
      - networkx=2.5=py_0
      - nose=1.3.7=py_1006
      - notebook=6.4.0=pyha770c72_0
      - nspr=4.30=h9c3ff4c_0
      - nss=3.67=hb5efdd6_0
      - numba=0.53.1=py37hb11d6e1_1
      - numcodecs=0.8.0=py37hcd2ae1e_0
      - numexpr=2.7.3=py37hdc94413_0
      - numpy=1.21.0=py37h038b26d_0
      - oauthlib=3.1.1=pyhd8ed1ab_0
      - olefile=0.46=pyh9f0ad1d_1
      - openblas=0.3.15=pthreads_h4748800_1
      - openjpeg=2.4.0=hb52868f_1
      - openpyxl=3.0.7=pyhd8ed1ab_0
      - openssl=1.1.1k=h7f98852_0
      - packaging=20.9=pyh44b312d_0
      - pandas=1.2.5=py37h219a48f_0
      - pandoc=2.14.0.3=h7f98852_0
      - pandocfilters=1.4.2=py_1
      - pango=1.48.6=hb8ff022_0
      - parso=0.8.2=pyhd8ed1ab_0
      - partd=1.2.0=pyhd8ed1ab_0
      - pathlib=1.0.1=py37h89c1867_4
      - patsy=0.5.1=py_0
      - pcre=8.45=h9c3ff4c_0
      - petl=1.7.4=pyh44b312d_0
      - pexpect=4.8.0=pyh9f0ad1d_2
      - pickleshare=0.7.5=py_1003
      - pillow=8.2.0=py37h4600e1f_1
      - pip=21.1.3=pyhd8ed1ab_0
      - pixman=0.40.0=h36c2ea0_0
      - pluggy=0.13.1=py37h89c1867_4
      - pomegranate=0.13.3=py37hc928c03_1
      - prometheus_client=0.11.0=pyhd8ed1ab_0
      - prompt-toolkit=3.0.19=pyha770c72_0
      - psutil=5.8.0=py37h5e8e339_1
      - pthread-stubs=0.4=h36c2ea0_1001
      - ptyprocess=0.7.0=pyhd3deb0d_0
      - py=1.10.0=pyhd3deb0d_0
      - pyasn1=0.4.8=py_0
      - pyasn1-modules=0.2.7=py_0
      - pycparser=2.20=pyh9f0ad1d_2
      - pygments=2.9.0=pyhd8ed1ab_0
      - pyjwt=2.1.0=pyhd8ed1ab_0
      - pynndescent=0.5.2=pyh44b312d_0
      - pyopenssl=20.0.1=pyhd8ed1ab_0
      - pyparsing=2.4.7=pyh9f0ad1d_0
      - pyprojroot=0.2.0=py_0
      - pyqt=5.12.3=py37h89c1867_7
      - pyqt-impl=5.12.3=py37he336c9b_7
      - pyqt5-sip=4.19.18=py37hcd2ae1e_7
      - pyqtchart=5.12=py37he336c9b_7
      - pyqtwebengine=5.12.1=py37he336c9b_7
      - pyrsistent=0.17.3=py37h5e8e339_2
      - pysocks=1.7.1=py37h89c1867_3
      - pytest=6.2.4=py37h89c1867_0
      - python=3.7.10=hffdb5ce_100_cpython
      - python-dateutil=2.8.1=py_0
      - python-graphviz=0.16=pyh243d235_2
      - python_abi=3.7=2_cp37m
      - pytz=2021.1=pyhd8ed1ab_0
      - pyu2f=0.1.5=pyhd8ed1ab_0
      - pyyaml=5.4.1=py37h5e8e339_0
      - pyzmq=22.1.0=py37h336d617_0
      - qt=5.12.9=hda022c4_4
      - readline=8.1=h46c0cb4_0
      - requests=2.25.1=pyhd3deb0d_0
      - requests-oauthlib=1.3.0=pyh9f0ad1d_0
      - rsa=4.7.2=pyh44b312d_0
      - s3fs=0.5.2=pyhd8ed1ab_0
      - scikit-allel=1.3.5=py37h219a48f_0
      - scikit-learn=0.24.2=py37h18a542f_0
      - scipy=1.7.0=py37h29e03ee_0
      - seaborn=0.11.1=hd8ed1ab_1
      - seaborn-base=0.11.1=pyhd8ed1ab_1
      - send2trash=1.7.1=pyhd8ed1ab_0
      - setuptools=49.6.0=py37h89c1867_3
      - six=1.16.0=pyh6c4a22f_0
      - sortedcontainers=2.4.0=pyhd8ed1ab_0
      - sqlite=3.36.0=h9cd32fc_0
      - statsmodels=0.12.2=py37h902c9e0_0
      - svgwrite=1.4.1=pyhd8ed1ab_0
      - tbb=2020.2=h4bd325d_4
      - tblib=1.7.0=pyhd8ed1ab_0
      - terminado=0.10.1=py37h89c1867_0
      - testpath=0.5.0=pyhd8ed1ab_0
      - threadpoolctl=2.1.0=pyh5ca1d4c_0
      - tk=8.6.10=h21135ba_1
      - toml=0.10.2=pyhd8ed1ab_0
      - toolz=0.11.1=py_0
      - tornado=6.1=py37h5e8e339_1
      - traitlets=5.0.5=py_0
      - tskit=0.3.6=py37h6f94858_0
      - typing-extensions=3.10.0.0=hd8ed1ab_0
      - typing_extensions=3.10.0.0=pyha770c72_0
      - umap-learn=0.5.1=py37h89c1867_1
      - uncertainties=3.1.5=pyhd8ed1ab_0
      - urllib3=1.26.6=pyhd8ed1ab_0
      - wcwidth=0.2.5=pyh9f0ad1d_2
      - webencodings=0.5.1=py_1
      - wheel=0.36.2=pyhd3deb0d_0
      - widgetsnbextension=3.5.1=py37h89c1867_4
      - wrapt=1.12.1=py37h5e8e339_3
      - xarray=0.18.0=pyhd8ed1ab_0
      - xlrd=2.0.1=pyhd8ed1ab_3
      - xlwt=1.3.0=py_1
      - xorg-kbproto=1.0.7=h7f98852_1002
      - xorg-libice=1.0.10=h7f98852_0
      - xorg-libsm=1.2.3=hd9c2040_1000
      - xorg-libx11=1.7.2=h7f98852_0
      - xorg-libxau=1.0.9=h7f98852_0
      - xorg-libxdmcp=1.1.3=h7f98852_0
      - xorg-libxext=1.3.4=h7f98852_1
      - xorg-libxrender=0.9.10=h7f98852_1003
      - xorg-renderproto=0.11.1=h7f98852_1002
      - xorg-xextproto=7.3.0=h7f98852_1002
      - xorg-xproto=7.0.31=h7f98852_1007
      - xz=5.2.5=h516909a_1
      - yaml=0.2.5=h516909a_0
      - yarl=1.6.3=py37h5e8e339_1
      - zarr=2.6.1=pyhd8ed1ab_0
      - zeromq=4.3.4=h9c3ff4c_0
      - zict=2.0.0=py_0
      - zipp=3.4.1=pyhd8ed1ab_0
      - zlib=1.2.11=h516909a_1010
      - zstd=1.5.0=ha95c52a_0
      - pip:
        - alabaster==0.7.12
        - argcomplete==1.12.3
        - babel==2.9.1
        - boto==2.49.0
        - colorama==0.4.4
        - crcmod==1.7
        - docutils==0.17.1
        - gcs-oauth2-boto-plugin==2.7
        - google-apitools==0.5.32
        - google-reauth==0.1.1
        - gsutil==4.64
        - httplib2==0.19.1
        - imagesize==1.2.0
        - livereload==2.6.3
        - malariagen-data==0.8.0
        - mock==2.0.0
        - oauth2client==4.1.3
        - pbr==5.6.0
        - petlx==1.0.3
        - plotly==4.14.3
        - prettypandas==0.0.4
        - retry-decorator==1.1.1
        - retrying==1.3.3
        - snowballstemmer==2.1.0
        - sphinx==4.0.2
        - sphinx-autobuild==2021.3.14
        - sphinx-bootstrap-theme==0.7.1
        - sphinxcontrib-applehelp==1.0.2
        - sphinxcontrib-devhelp==1.0.2
        - sphinxcontrib-htmlhelp==2.0.0
        - sphinxcontrib-jsmath==1.0.1
        - sphinxcontrib-qthelp==1.0.3
        - sphinxcontrib-serializinghtml==1.1.5

  # Here we include a fully pinned environment specification. This
  # has been generated by creating an environment from the environment-abafar.yaml
  # file in the customisation/environments folder, then exporting the solved
  # environment and copy-pasting that exported environment specification below.
  "environment-abafar-20210705a.yaml":
    name: abafar-20210705a
    channels:
      - conda-forge
      - intake
      - defaults
    dependencies:
      - _libgcc_mutex=0.1=conda_forge
      - _openmp_mutex=4.5=1_llvm
      - aiobotocore=1.3.1=pyhd8ed1ab_0
      - aiohttp=3.7.4.post0=py37h5e8e339_0
      - aioitertools=0.7.1=pyhd8ed1ab_0
      - alsa-lib=1.2.3=h516909a_0
      - anyio=3.2.1=py37h89c1867_0
      - appdirs=1.4.4=pyh9f0ad1d_0
      - argon2-cffi=20.1.0=py37h5e8e339_2
      - asciitree=0.3.3=py_2
      - asteval=0.9.23=pyhd8ed1ab_0
      - async-timeout=3.0.1=py_1000
      - async_generator=1.10=py_0
      - atk-1.0=2.36.0=h3371d22_4
      - attrs=21.2.0=pyhd8ed1ab_0
      - babel=2.9.1=pyh44b312d_0
      - backcall=0.2.0=pyh9f0ad1d_0
      - backports=1.0=py_2
      - backports.functools_lru_cache=1.6.4=pyhd8ed1ab_0
      - biopython=1.79=py37h5e8e339_0
      - blas=2.109=openblas
      - blas-devel=3.9.0=9_openblas
      - bleach=3.3.0=pyh44b312d_0
      - blinker=1.4=py_1
      - bokeh=2.3.2=py37h89c1867_0
      - botocore=1.20.49=pyhd8ed1ab_0
      - brotlipy=0.7.0=py37h5e8e339_1001
      - bzip2=1.0.8=h7f98852_4
      - c-ares=1.17.1=h7f98852_1
      - ca-certificates=2021.5.30=ha878542_0
      - cached-property=1.5.2=hd8ed1ab_1
      - cached_property=1.5.2=pyha770c72_1
      - cachetools=4.2.2=pyhd8ed1ab_0
      - cairo=1.16.0=h6cf1ce9_1008
      - certifi=2021.5.30=py37h89c1867_0
      - cffi=1.14.5=py37hc58025e_0
      - cftime=1.5.0=py37h6f94858_0
      - chardet=4.0.0=py37h89c1867_1
      - click=7.1.2=pyh9f0ad1d_0
      - cloudpickle=1.6.0=py_0
      - cryptography=3.4.7=py37h5d9358c_0
      - curl=7.77.0=hea6ffbf_0
      - cycler=0.10.0=py_2
      - cython=0.29.23=py37hcd2ae1e_1
      - cytoolz=0.11.0=py37h5e8e339_3
      - dask=2.30.0=py_0
      - dask-core=2.30.0=py_0
      - dask-gateway=0.9.0=py37h89c1867_0
      - dbus=1.13.6=h48d8840_2
      - debugpy=1.3.0=py37hcd2ae1e_0
      - decorator=5.0.9=pyhd8ed1ab_0
      - defusedxml=0.7.1=pyhd8ed1ab_0
      - distributed=2.30.1=py37h89c1867_0
      - entrypoints=0.3=pyhd8ed1ab_1003
      - et_xmlfile=1.0.1=py_1001
      - expat=2.4.1=h9c3ff4c_0
      - fasteners=0.16=pyhd8ed1ab_0
      - font-ttf-dejavu-sans-mono=2.37=hab24e00_0
      - font-ttf-inconsolata=3.000=h77eed37_0
      - font-ttf-source-code-pro=2.038=h77eed37_0
      - font-ttf-ubuntu=0.83=hab24e00_0
      - fontconfig=2.13.1=hba837de_1005
      - fonts-conda-ecosystem=1=0
      - fonts-conda-forge=1=0
      - freetype=2.10.4=h0708190_1
      - fribidi=1.0.10=h36c2ea0_0
      - fsspec=0.8.7=pyhd8ed1ab_0
      - future=0.18.2=py37h89c1867_3
      - gcsfs=0.7.2=pyhd8ed1ab_0
      - gdk-pixbuf=2.42.6=h04a7f16_0
      - gettext=0.19.8.1=h0b5b191_1005
      - giflib=5.2.1=h36c2ea0_2
      - glib=2.68.3=h9c3ff4c_0
      - glib-tools=2.68.3=h9c3ff4c_0
      - google-auth=1.32.1=pyh6c4a22f_0
      - google-auth-oauthlib=0.4.4=pyhd8ed1ab_0
      - graphite2=1.3.13=h58526e2_1001
      - graphviz=2.47.3=h85b4f2f_0
      - gsl=2.6=he838d99_2
      - gst-plugins-base=1.18.4=hf529b03_2
      - gstreamer=1.18.4=h76c114f_2
      - gtk2=2.24.33=h539f30e_1
      - gts=0.7.6=h64030ff_2
      - h5py=3.3.0=nompi_py37ha3df211_100
      - harfbuzz=2.8.1=h83ec7ef_0
      - hdf4=4.2.15=h10796ff_3
      - hdf5=1.10.6=nompi_h6a2412b_1114
      - heapdict=1.0.1=py_0
      - hmmlearn=0.2.5=py37h902c9e0_0
      - humanize=3.9.0=pyhd8ed1ab_0
      - icu=68.1=h58526e2_0
      - idna=2.10=pyh9f0ad1d_0
      - importlib-metadata=3.10.1=py37h89c1867_0
      - importlib_metadata=3.10.1=hd8ed1ab_0
      - iniconfig=1.1.1=pyh9f0ad1d_0
      - intake=0.6.2=pyhd8ed1ab_0
      - intake-xarray=0.5.0=pyhd8ed1ab_0
      - ipykernel=6.0.1=py37h085eea5_0
      - ipython=7.25.0=py37h085eea5_1
      - ipython_genutils=0.2.0=py_1
      - ipytree=0.2.1=pyhd8ed1ab_0
      - ipywidgets=7.6.3=pyhd3deb0d_0
      - jbig=2.1=h7f98852_2003
      - jdcal=1.4.1=py_0
      - jedi=0.18.0=py37h89c1867_2
      - jinja2=3.0.1=pyhd8ed1ab_0
      - jmespath=0.10.0=pyh9f0ad1d_0
      - joblib=1.0.1=pyhd8ed1ab_0
      - jpeg=9d=h36c2ea0_0
      - json5=0.9.5=pyh9f0ad1d_0
      - jsonschema=3.2.0=pyhd8ed1ab_3
      - jupyter-resource-usage=0.6.0=pyhd8ed1ab_0
      - jupyter_client=6.1.12=pyhd8ed1ab_0
      - jupyter_core=4.7.1=py37h89c1867_0
      - jupyter_server=1.9.0=pyhd8ed1ab_0
      - jupyterlab=3.0.16=pyhd8ed1ab_0
      - jupyterlab_pygments=0.1.2=pyh9f0ad1d_0
      - jupyterlab_server=2.6.0=pyhd8ed1ab_0
      - jupyterlab_widgets=1.0.0=pyhd8ed1ab_1
      - kiwisolver=1.3.1=py37h2527ec5_1
      - krb5=1.19.1=hcc1bbae_0
      - lcms2=2.12=hddcbb42_0
      - ld_impl_linux-64=2.36.1=hea4e1c9_0
      - lerc=2.2.1=h9c3ff4c_0
      - libblas=3.9.0=9_openblas
      - libcblas=3.9.0=9_openblas
      - libclang=11.1.0=default_ha53f305_1
      - libcurl=7.77.0=h2574ce0_0
      - libdeflate=1.7=h7f98852_5
      - libedit=3.1.20191231=he28a2e2_2
      - libev=4.33=h516909a_1
      - libevent=2.1.10=hcdb4288_3
      - libffi=3.3=h58526e2_2
      - libgcc-ng=9.3.0=h2828fa1_19
      - libgd=2.3.2=h78a0170_0
      - libgfortran-ng=9.3.0=hff62375_19
      - libgfortran5=9.3.0=hff62375_19
      - libglib=2.68.3=h3e27bee_0
      - libiconv=1.16=h516909a_0
      - liblapack=3.9.0=9_openblas
      - liblapacke=3.9.0=9_openblas
      - libllvm10=10.0.1=he513fc3_3
      - libllvm11=11.1.0=hf817b99_2
      - libnetcdf=4.8.0=nompi_hcd642e3_103
      - libnghttp2=1.43.0=h812cca2_0
      - libogg=1.3.4=h7f98852_1
      - libopenblas=0.3.15=pthreads_h8fe5266_1
      - libopus=1.3.1=h7f98852_1
      - libpng=1.6.37=h21135ba_2
      - libpq=13.3=hd57d9b9_0
      - librsvg=2.50.7=hc3c00ef_0
      - libsodium=1.0.18=h36c2ea0_1
      - libssh2=1.9.0=ha56f1ee_6
      - libstdcxx-ng=9.3.0=h6de172a_19
      - libtiff=4.3.0=hf544144_1
      - libtool=2.4.6=h58526e2_1007
      - libuuid=2.32.1=h7f98852_1000
      - libvorbis=1.3.7=h9c3ff4c_0
      - libwebp=1.2.0=h3452ae3_0
      - libwebp-base=1.2.0=h7f98852_2
      - libxcb=1.13=h7f98852_1003
      - libxkbcommon=1.0.3=he3ba5ed_0
      - libxml2=2.9.12=h72842e0_0
      - libzip=1.8.0=h4de3113_0
      - llvm-openmp=11.1.0=h4bd325d_1
      - llvmlite=0.36.0=py37h9d7f4d0_0
      - lmfit=1.0.2=pyhd8ed1ab_0
      - locket=0.2.0=py_2
      - lz4-c=1.9.3=h9c3ff4c_0
      - markupsafe=2.0.1=py37h5e8e339_0
      - matplotlib=3.4.2=py37h89c1867_0
      - matplotlib-base=3.4.2=py37hdd32ed1_0
      - matplotlib-inline=0.1.2=pyhd8ed1ab_2
      - mistune=0.8.4=py37h5e8e339_1004
      - monotonic=1.5=py_0
      - more-itertools=8.8.0=pyhd8ed1ab_0
      - msgpack-python=1.0.2=py37h2527ec5_1
      - msprime=1.0.1=py37he4a10e2_0
      - multidict=5.1.0=py37h5e8e339_1
      - mysql-common=8.0.25=ha770c72_2
      - mysql-libs=8.0.25=hfa10184_2
      - mysqlclient=2.0.3=py37hcd2ae1e_0
      - nbclassic=0.3.1=pyhd8ed1ab_1
      - nbclient=0.5.3=pyhd8ed1ab_0
      - nbconvert=6.1.0=py37h89c1867_0
      - nbformat=5.1.3=pyhd8ed1ab_0
      - ncurses=6.2=h58526e2_4
      - nest-asyncio=1.5.1=pyhd8ed1ab_0
      - netcdf4=1.5.7=nompi_py37h946d57d_100
      - networkx=2.5=py_0
      - nose=1.3.7=py_1006
      - notebook=6.4.0=pyha770c72_0
      - nspr=4.30=h9c3ff4c_0
      - nss=3.67=hb5efdd6_0
      - numba=0.53.1=py37hb11d6e1_1
      - numcodecs=0.8.0=py37hcd2ae1e_0
      - numexpr=2.7.3=py37hdc94413_0
      - numpy=1.21.0=py37h038b26d_0
      - oauthlib=3.1.1=pyhd8ed1ab_0
      - olefile=0.46=pyh9f0ad1d_1
      - openblas=0.3.15=pthreads_h4748800_1
      - openjpeg=2.4.0=hb52868f_1
      - openpyxl=3.0.7=pyhd8ed1ab_0
      - openssl=1.1.1k=h7f98852_0
      - packaging=21.0=pyhd8ed1ab_0
      - pandas=1.3.0=py37h219a48f_0
      - pandoc=2.14.0.3=h7f98852_0
      - pandocfilters=1.4.2=py_1
      - pango=1.48.7=hb8ff022_0
      - parso=0.8.2=pyhd8ed1ab_0
      - partd=1.2.0=pyhd8ed1ab_0
      - pathlib=1.0.1=py37h89c1867_4
      - patsy=0.5.1=py_0
      - pcre=8.45=h9c3ff4c_0
      - petl=1.7.4=pyh44b312d_0
      - pexpect=4.8.0=pyh9f0ad1d_2
      - pickleshare=0.7.5=py_1003
      - pillow=8.3.0=py37h0f21c89_0
      - pip=21.1.3=pyhd8ed1ab_0
      - pixman=0.40.0=h36c2ea0_0
      - plotly=5.1.0=pyhd8ed1ab_0
      - pluggy=0.13.1=py37h89c1867_4
      - pomegranate=0.13.3=py37hc928c03_1
      - prometheus_client=0.11.0=pyhd8ed1ab_0
      - prompt-toolkit=3.0.19=pyha770c72_0
      - psutil=5.8.0=py37h5e8e339_1
      - pthread-stubs=0.4=h36c2ea0_1001
      - ptyprocess=0.7.0=pyhd3deb0d_0
      - py=1.10.0=pyhd3deb0d_0
      - pyasn1=0.4.8=py_0
      - pyasn1-modules=0.2.7=py_0
      - pycparser=2.20=pyh9f0ad1d_2
      - pygments=2.9.0=pyhd8ed1ab_0
      - pyjwt=2.1.0=pyhd8ed1ab_0
      - pynndescent=0.5.2=pyh44b312d_0
      - pyopenssl=20.0.1=pyhd8ed1ab_0
      - pyparsing=2.4.7=pyh9f0ad1d_0
      - pyprojroot=0.2.0=py_0
      - pyqt=5.12.3=py37h89c1867_7
      - pyqt-impl=5.12.3=py37he336c9b_7
      - pyqt5-sip=4.19.18=py37hcd2ae1e_7
      - pyqtchart=5.12=py37he336c9b_7
      - pyqtwebengine=5.12.1=py37he336c9b_7
      - pyrsistent=0.17.3=py37h5e8e339_2
      - pysocks=1.7.1=py37h89c1867_3
      - pytest=6.2.4=py37h89c1867_0
      - python=3.7.10=hffdb5ce_100_cpython
      - python-dateutil=2.8.1=py_0
      - python-graphviz=0.16=pyh243d235_2
      - python_abi=3.7=2_cp37m
      - pytz=2021.1=pyhd8ed1ab_0
      - pyu2f=0.1.5=pyhd8ed1ab_0
      - pyyaml=5.4.1=py37h5e8e339_0
      - pyzmq=22.1.0=py37h336d617_0
      - qt=5.12.9=hda022c4_4
      - readline=8.1=h46c0cb4_0
      - requests=2.25.1=pyhd3deb0d_0
      - requests-oauthlib=1.3.0=pyh9f0ad1d_0
      - requests-unixsocket=0.2.0=py_0
      - rsa=4.7.2=pyh44b312d_0
      - s3fs=0.5.2=pyhd8ed1ab_0
      - scikit-allel=1.3.5=py37h219a48f_0
      - scikit-learn=0.24.2=py37h18a542f_0
      - scipy=1.7.0=py37h29e03ee_0
      - seaborn=0.11.1=hd8ed1ab_1
      - seaborn-base=0.11.1=pyhd8ed1ab_1
      - send2trash=1.7.1=pyhd8ed1ab_0
      - setuptools=49.6.0=py37h89c1867_3
      - six=1.15.0=pyh9f0ad1d_0
      - sniffio=1.2.0=py37h89c1867_1
      - sortedcontainers=2.4.0=pyhd8ed1ab_0
      - sqlite=3.36.0=h9cd32fc_0
      - statsmodels=0.12.2=py37h902c9e0_0
      - svgwrite=1.4.1=pyhd8ed1ab_0
      - tbb=2020.2=h4bd325d_4
      - tblib=1.7.0=pyhd8ed1ab_0
      - tenacity=7.0.0=pyhd8ed1ab_0
      - terminado=0.10.1=py37h89c1867_0
      - testpath=0.5.0=pyhd8ed1ab_0
      - threadpoolctl=2.1.0=pyh5ca1d4c_0
      - tk=8.6.10=h21135ba_1
      - toml=0.10.2=pyhd8ed1ab_0
      - toolz=0.11.1=py_0
      - tornado=6.1=py37h5e8e339_1
      - traitlets=5.0.5=py_0
      - tskit=0.3.6=py37h6f94858_0
      - typing-extensions=3.10.0.0=hd8ed1ab_0
      - typing_extensions=3.10.0.0=pyha770c72_0
      - umap-learn=0.5.1=py37h89c1867_1
      - uncertainties=3.1.5=pyhd8ed1ab_0
      - urllib3=1.26.6=pyhd8ed1ab_0
      - wcwidth=0.2.5=pyh9f0ad1d_2
      - webencodings=0.5.1=py_1
      - websocket-client=0.57.0=py37h89c1867_4
      - wheel=0.36.2=pyhd3deb0d_0
      - widgetsnbextension=3.5.1=py37h89c1867_4
      - wrapt=1.12.1=py37h5e8e339_3
      - xarray=0.18.0=pyhd8ed1ab_0
      - xlrd=2.0.1=pyhd8ed1ab_3
      - xlwt=1.3.0=py_1
      - xorg-kbproto=1.0.7=h7f98852_1002
      - xorg-libice=1.0.10=h7f98852_0
      - xorg-libsm=1.2.3=hd9c2040_1000
      - xorg-libx11=1.7.2=h7f98852_0
      - xorg-libxau=1.0.9=h7f98852_0
      - xorg-libxdmcp=1.1.3=h7f98852_0
      - xorg-libxext=1.3.4=h7f98852_1
      - xorg-libxrender=0.9.10=h7f98852_1003
      - xorg-renderproto=0.11.1=h7f98852_1002
      - xorg-xextproto=7.3.0=h7f98852_1002
      - xorg-xproto=7.0.31=h7f98852_1007
      - xz=5.2.5=h516909a_1
      - yaml=0.2.5=h516909a_0
      - yarl=1.6.3=py37h5e8e339_2
      - zarr=2.6.1=pyhd8ed1ab_0
      - zeromq=4.3.4=h9c3ff4c_0
      - zict=2.0.0=py_0
      - zipp=3.5.0=pyhd8ed1ab_0
      - zlib=1.2.11=h516909a_1010
      - zstd=1.5.0=ha95c52a_0
      - pip:
        - alabaster==0.7.12
        - argcomplete==1.12.3
        - boto==2.49.0
        - colorama==0.4.4
        - crcmod==1.7
        - docutils==0.17.1
        - gcs-oauth2-boto-plugin==2.7
        - google-apitools==0.5.32
        - google-reauth==0.1.1
        - gsutil==4.65
        - httplib2==0.19.1
        - imagesize==1.2.0
        - livereload==2.6.3
        - malariagen-data==0.8.0
        - mock==2.0.0
        - oauth2client==4.1.3
        - pbr==5.6.0
        - petlx==1.0.3
        - prettypandas==0.0.4
        - retry-decorator==1.1.1
        - snowballstemmer==2.1.0
        - sphinx==4.0.3
        - sphinx-autobuild==2021.3.14
        - sphinx-bootstrap-theme==0.7.1
        - sphinxcontrib-applehelp==1.0.2
        - sphinxcontrib-devhelp==1.0.2
        - sphinxcontrib-htmlhelp==2.0.0
        - sphinxcontrib-jsmath==1.0.1
        - sphinxcontrib-qthelp==1.0.3
        - sphinxcontrib-serializinghtml==1.1.5

  # Here we include a fully pinned environment specification. This
  # has been generated by creating an environment from the environment-geo.yaml
  # file in the customisation/environments folder, then exporting the solved
  # environment and copy-pasting that exported environment specification below.
  "environment-geo-20210706.yaml":
    name: geo-20210706
    channels:
      - conda-forge
      - pyviz
      - defaults
    dependencies:
      - _libgcc_mutex=0.1=conda_forge
      - _openmp_mutex=4.5=1_llvm
      - affine=2.3.0=py_0
      - aiobotocore=1.3.1=pyhd8ed1ab_0
      - aiohttp=3.7.4.post0=py37h5e8e339_0
      - aioitertools=0.7.1=pyhd8ed1ab_0
      - alsa-lib=1.2.3=h516909a_0
      - anyio=3.2.1=py37h89c1867_0
      - argon2-cffi=20.1.0=py37h5e8e339_2
      - asciitree=0.3.3=py_2
      - async-timeout=3.0.1=py_1000
      - async_generator=1.10=py_0
      - attrs=21.2.0=pyhd8ed1ab_0
      - babel=2.9.1=pyh44b312d_0
      - backcall=0.2.0=pyh9f0ad1d_0
      - backports=1.0=py_2
      - backports.functools_lru_cache=1.6.4=pyhd8ed1ab_0
      - blas=2.109=openblas
      - blas-devel=3.9.0=9_openblas
      - bleach=3.3.0=pyh44b312d_0
      - blinker=1.4=py_1
      - bokeh=2.3.2=py37h89c1867_0
      - boost-cpp=1.74.0=hc6e9bd1_3
      - botocore=1.20.49=pyhd8ed1ab_0
      - branca=0.4.2=pyhd8ed1ab_0
      - brotlipy=0.7.0=py37h5e8e339_1001
      - bzip2=1.0.8=h7f98852_4
      - c-ares=1.17.1=h7f98852_1
      - ca-certificates=2021.5.30=ha878542_0
      - cachetools=4.2.2=pyhd8ed1ab_0
      - cairo=1.16.0=h6cf1ce9_1008
      - cartopy=0.19.0.post1=py37h0c48da3_0
      - certifi=2021.5.30=py37h89c1867_0
      - cffi=1.14.5=py37hc58025e_0
      - cfitsio=3.470=hb418390_7
      - cftime=1.5.0=py37h6f94858_0
      - chardet=4.0.0=py37h89c1867_1
      - click=7.1.2=pyh9f0ad1d_0
      - click-plugins=1.1.1=py_0
      - cligj=0.7.2=pyhd8ed1ab_0
      - cloudpickle=1.6.0=py_0
      - colorcet=2.0.6=pyhd8ed1ab_0
      - cryptography=3.4.7=py37h5d9358c_0
      - curl=7.77.0=hea6ffbf_0
      - cycler=0.10.0=py_2
      - cython=0.29.23=py37hcd2ae1e_1
      - cytoolz=0.11.0=py37h5e8e339_3
      - dask=2.30.0=py_0
      - dask-core=2.30.0=py_0
      - dask-gateway=0.9.0=py37h89c1867_0
      - datashader=0.13.0=pyh6c4a22f_0
      - datashape=0.5.4=py_1
      - dbus=1.13.6=h48d8840_2
      - debugpy=1.3.0=py37hcd2ae1e_0
      - decorator=5.0.9=pyhd8ed1ab_0
      - defusedxml=0.7.1=pyhd8ed1ab_0
      - distributed=2.30.1=py37h89c1867_0
      - entrypoints=0.3=pyhd8ed1ab_1003
      - expat=2.4.1=h9c3ff4c_0
      - fasteners=0.16=pyhd8ed1ab_0
      - fiona=1.8.18=py37h17d6ad9_1
      - fontconfig=2.13.1=hba837de_1005
      - freetype=2.10.4=h0708190_1
      - freexl=1.0.6=h7f98852_0
      - fsspec=2021.6.1=pyhd8ed1ab_0
      - gcsfs=2021.6.1=pyhd8ed1ab_0
      - gdal=3.2.1=py37hc5bc4e4_7
      - geopandas=0.9.0=pyhd8ed1ab_1
      - geopandas-base=0.9.0=pyhd8ed1ab_1
      - geos=3.9.1=h9c3ff4c_2
      - geotiff=1.6.0=h2b14fbe_4
      - geoviews=1.9.1=pyhd8ed1ab_0
      - geoviews-core=1.9.1=pyha770c72_0
      - gettext=0.19.8.1=h0b5b191_1005
      - giflib=5.2.1=h36c2ea0_2
      - glib=2.68.3=h9c3ff4c_0
      - glib-tools=2.68.3=h9c3ff4c_0
      - google-auth=1.32.1=pyh6c4a22f_0
      - google-auth-oauthlib=0.4.4=pyhd8ed1ab_0
      - gst-plugins-base=1.18.4=hf529b03_2
      - gstreamer=1.18.4=h76c114f_2
      - hdf4=4.2.15=h10796ff_3
      - hdf5=1.10.6=nompi_h6a2412b_1114
      - heapdict=1.0.1=py_0
      - holoviews=1.14.4=pyhd8ed1ab_0
      - icu=68.1=h58526e2_0
      - idna=2.10=pyh9f0ad1d_0
      - importlib-metadata=3.10.1=py37h89c1867_0
      - importlib_metadata=3.10.1=hd8ed1ab_0
      - iniconfig=1.1.1=pyh9f0ad1d_0
      - ipykernel=6.0.1=py37h085eea5_0
      - ipyleaflet=0.14.0=pyhd8ed1ab_1
      - ipython=7.25.0=py37h085eea5_1
      - ipython_genutils=0.2.0=py_1
      - ipytree=0.2.1=pyhd8ed1ab_0
      - ipywidgets=7.6.3=pyhd3deb0d_0
      - jedi=0.18.0=py37h89c1867_2
      - jinja2=3.0.1=pyhd8ed1ab_0
      - jmespath=0.10.0=pyh9f0ad1d_0
      - joblib=1.0.1=pyhd8ed1ab_0
      - jpeg=9d=h36c2ea0_0
      - json-c=0.15=h98cffda_0
      - json5=0.9.5=pyh9f0ad1d_0
      - jsonschema=3.2.0=pyhd8ed1ab_3
      - jupyter-resource-usage=0.6.0=pyhd8ed1ab_0
      - jupyter_client=6.1.12=pyhd8ed1ab_0
      - jupyter_core=4.7.1=py37h89c1867_0
      - jupyter_server=1.9.0=pyhd8ed1ab_0
      - jupyterlab=3.0.16=pyhd8ed1ab_0
      - jupyterlab_pygments=0.1.2=pyh9f0ad1d_0
      - jupyterlab_server=2.6.0=pyhd8ed1ab_0
      - jupyterlab_widgets=1.0.0=pyhd8ed1ab_1
      - kealib=1.4.14=hcc255d8_2
      - kiwisolver=1.3.1=py37h2527ec5_1
      - krb5=1.19.1=hcc1bbae_0
      - lcms2=2.12=hddcbb42_0
      - ld_impl_linux-64=2.36.1=hea4e1c9_0
      - libblas=3.9.0=9_openblas
      - libcblas=3.9.0=9_openblas
      - libclang=11.1.0=default_ha53f305_1
      - libcurl=7.77.0=h2574ce0_0
      - libdap4=3.20.6=hd7c4107_2
      - libedit=3.1.20191231=he28a2e2_2
      - libev=4.33=h516909a_1
      - libevent=2.1.10=hcdb4288_3
      - libffi=3.3=h58526e2_2
      - libgcc-ng=9.3.0=h2828fa1_19
      - libgdal=3.2.1=h38ff51b_7
      - libgfortran-ng=9.3.0=hff62375_19
      - libgfortran5=9.3.0=hff62375_19
      - libglib=2.68.3=h3e27bee_0
      - libiconv=1.16=h516909a_0
      - libkml=1.3.0=h238a007_1013
      - liblapack=3.9.0=9_openblas
      - liblapacke=3.9.0=9_openblas
      - libllvm10=10.0.1=he513fc3_3
      - libllvm11=11.1.0=hf817b99_2
      - libnetcdf=4.7.4=nompi_h56d31a8_107
      - libnghttp2=1.43.0=h812cca2_0
      - libogg=1.3.4=h7f98852_1
      - libopenblas=0.3.15=pthreads_h8fe5266_1
      - libopus=1.3.1=h7f98852_1
      - libpng=1.6.37=h21135ba_2
      - libpq=13.3=hd57d9b9_0
      - librttopo=1.1.0=h1185371_6
      - libsodium=1.0.18=h36c2ea0_1
      - libspatialindex=1.9.3=h9c3ff4c_3
      - libspatialite=5.0.1=he52d314_3
      - libssh2=1.9.0=ha56f1ee_6
      - libstdcxx-ng=9.3.0=h6de172a_19
      - libtiff=4.2.0=hbd63e13_2
      - libuuid=2.32.1=h7f98852_1000
      - libvorbis=1.3.7=h9c3ff4c_0
      - libwebp-base=1.2.0=h7f98852_2
      - libxcb=1.13=h7f98852_1003
      - libxkbcommon=1.0.3=he3ba5ed_0
      - libxml2=2.9.12=h72842e0_0
      - llvm-openmp=11.1.0=h4bd325d_1
      - llvmlite=0.36.0=py37h9d7f4d0_0
      - locket=0.2.0=py_2
      - lz4-c=1.9.3=h9c3ff4c_0
      - mapclassify=2.4.2=pyhd8ed1ab_0
      - markdown=3.3.4=pyhd8ed1ab_0
      - markupsafe=2.0.1=py37h5e8e339_0
      - matplotlib=3.4.2=py37h89c1867_0
      - matplotlib-base=3.4.2=py37hdd32ed1_0
      - matplotlib-inline=0.1.2=pyhd8ed1ab_2
      - mistune=0.8.4=py37h5e8e339_1004
      - monotonic=1.5=py_0
      - more-itertools=8.8.0=pyhd8ed1ab_0
      - msgpack-python=1.0.2=py37h2527ec5_1
      - multidict=5.1.0=py37h5e8e339_1
      - multipledispatch=0.6.0=py_0
      - munch=2.5.0=py_0
      - mysql-common=8.0.25=ha770c72_0
      - mysql-libs=8.0.25=h935591d_0
      - nbclassic=0.3.1=pyhd8ed1ab_1
      - nbclient=0.5.3=pyhd8ed1ab_0
      - nbconvert=6.1.0=py37h89c1867_0
      - nbformat=5.1.3=pyhd8ed1ab_0
      - ncurses=6.2=h58526e2_4
      - nest-asyncio=1.5.1=pyhd8ed1ab_0
      - netcdf4=1.5.6=nompi_py37hf7b6e46_102
      - networkx=2.5=py_0
      - notebook=6.4.0=pyha770c72_0
      - nspr=4.30=h9c3ff4c_0
      - nss=3.67=hb5efdd6_0
      - numba=0.53.1=py37hb11d6e1_1
      - numcodecs=0.8.0=py37hcd2ae1e_0
      - numexpr=2.7.3=py37hdc94413_0
      - numpy=1.21.0=py37h038b26d_0
      - oauthlib=3.1.1=pyhd8ed1ab_0
      - olefile=0.46=pyh9f0ad1d_1
      - openblas=0.3.15=pthreads_h4748800_1
      - openjpeg=2.4.0=hb52868f_1
      - openssl=1.1.1k=h7f98852_0
      - packaging=21.0=pyhd8ed1ab_0
      - pandas=1.3.0=py37h219a48f_0
      - pandoc=2.14.0.3=h7f98852_0
      - pandocfilters=1.4.2=py_1
      - panel=0.11.3=pyhd8ed1ab_0
      - param=1.11.1=pyh6c4a22f_0
      - parso=0.8.2=pyhd8ed1ab_0
      - partd=1.2.0=pyhd8ed1ab_0
      - pathlib=1.0.1=py37h89c1867_4
      - patsy=0.5.1=py_0
      - pcre=8.45=h9c3ff4c_0
      - pexpect=4.8.0=pyh9f0ad1d_2
      - pickleshare=0.7.5=py_1003
      - pillow=8.2.0=py37h4600e1f_1
      - pip=21.1.3=pyhd8ed1ab_0
      - pixman=0.40.0=h36c2ea0_0
      - plotly=5.1.0=pyhd8ed1ab_0
      - pluggy=0.13.1=py37h89c1867_4
      - poppler=0.89.0=h2de54a5_5
      - poppler-data=0.4.10=0
      - postgresql=13.3=h2510834_0
      - proj=7.2.0=h277dcde_2
      - prometheus_client=0.11.0=pyhd8ed1ab_0
      - prompt-toolkit=3.0.19=pyha770c72_0
      - psutil=5.8.0=py37h5e8e339_1
      - pthread-stubs=0.4=h36c2ea0_1001
      - ptyprocess=0.7.0=pyhd3deb0d_0
      - py=1.10.0=pyhd3deb0d_0
      - pyasn1=0.4.8=py_0
      - pyasn1-modules=0.2.7=py_0
      - pycparser=2.20=pyh9f0ad1d_2
      - pyct=0.4.6=py_0
      - pyct-core=0.4.6=py_0
      - pygments=2.9.0=pyhd8ed1ab_0
      - pyjwt=2.1.0=pyhd8ed1ab_0
      - pyopenssl=20.0.1=pyhd8ed1ab_0
      - pyparsing=2.4.7=pyh9f0ad1d_0
      - pyproj=3.1.0=py37h20b8899_3
      - pyprojroot=0.2.0=py_0
      - pyqt=5.12.3=py37h89c1867_7
      - pyqt-impl=5.12.3=py37he336c9b_7
      - pyqt5-sip=4.19.18=py37hcd2ae1e_7
      - pyqtchart=5.12=py37he336c9b_7
      - pyqtwebengine=5.12.1=py37he336c9b_7
      - pyrsistent=0.17.3=py37h5e8e339_2
      - pyshp=2.1.3=pyh44b312d_0
      - pysocks=1.7.1=py37h89c1867_3
      - pytest=6.2.4=py37h89c1867_0
      - python=3.7.10=hffdb5ce_100_cpython
      - python-dateutil=2.8.1=py_0
      - python_abi=3.7=2_cp37m
      - pytz=2021.1=pyhd8ed1ab_0
      - pyu2f=0.1.5=pyhd8ed1ab_0
      - pyviz_comms=2.1.0=pyhd8ed1ab_0
      - pyyaml=5.4.1=py37h5e8e339_0
      - pyzmq=22.1.0=py37h336d617_0
      - qt=5.12.9=hda022c4_4
      - rasterio=1.2.6=py37hd5c4cce_0
      - readline=8.1=h46c0cb4_0
      - requests=2.25.1=pyhd3deb0d_0
      - requests-oauthlib=1.3.0=pyh9f0ad1d_0
      - requests-unixsocket=0.2.0=py_0
      - rioxarray=0.4.3=pyhd8ed1ab_0
      - rsa=4.7.2=pyh44b312d_0
      - rtree=0.9.7=py37h0b55af0_1
      - s3fs=2021.6.1=pyhd8ed1ab_0
      - scikit-learn=0.24.2=py37h18a542f_0
      - scipy=1.7.0=py37h29e03ee_0
      - seaborn=0.11.1=hd8ed1ab_1
      - seaborn-base=0.11.1=pyhd8ed1ab_1
      - send2trash=1.7.1=pyhd8ed1ab_0
      - setuptools=49.6.0=py37h89c1867_3
      - shapely=1.7.1=py37h2d1e849_5
      - six=1.15.0=pyh9f0ad1d_0
      - sniffio=1.2.0=py37h89c1867_1
      - snuggs=1.4.7=py_0
      - sortedcontainers=2.4.0=pyhd8ed1ab_0
      - sqlite=3.36.0=h9cd32fc_0
      - statsmodels=0.12.2=py37h902c9e0_0
      - tblib=1.7.0=pyhd8ed1ab_0
      - tenacity=7.0.0=pyhd8ed1ab_0
      - terminado=0.10.1=py37h89c1867_0
      - testpath=0.5.0=pyhd8ed1ab_0
      - threadpoolctl=2.1.0=pyh5ca1d4c_0
      - tiledb=2.2.9=h91fcb0e_0
      - tk=8.6.10=h21135ba_1
      - toml=0.10.2=pyhd8ed1ab_0
      - toolz=0.11.1=py_0
      - tornado=6.1=py37h5e8e339_1
      - tqdm=4.61.2=pyhd8ed1ab_0
      - traitlets=5.0.5=py_0
      - traittypes=0.2.1=pyh9f0ad1d_2
      - typing-extensions=3.10.0.0=hd8ed1ab_0
      - typing_extensions=3.10.0.0=pyha770c72_0
      - tzcode=2021a=h7f98852_1
      - tzdata=2021a=he74cb21_0
      - urllib3=1.26.6=pyhd8ed1ab_0
      - wcwidth=0.2.5=pyh9f0ad1d_2
      - webencodings=0.5.1=py_1
      - websocket-client=0.57.0=py37h89c1867_4
      - wheel=0.36.2=pyhd3deb0d_0
      - widgetsnbextension=3.5.1=py37h89c1867_4
      - wrapt=1.12.1=py37h5e8e339_3
      - xarray=0.18.2=pyhd8ed1ab_0
      - xerces-c=3.2.3=h9d8b166_2
      - xorg-kbproto=1.0.7=h7f98852_1002
      - xorg-libice=1.0.10=h7f98852_0
      - xorg-libsm=1.2.3=hd9c2040_1000
      - xorg-libx11=1.7.2=h7f98852_0
      - xorg-libxau=1.0.9=h7f98852_0
      - xorg-libxdmcp=1.1.3=h7f98852_0
      - xorg-libxext=1.3.4=h7f98852_1
      - xorg-libxrender=0.9.10=h7f98852_1003
      - xorg-renderproto=0.11.1=h7f98852_1002
      - xorg-xextproto=7.3.0=h7f98852_1002
      - xorg-xproto=7.0.31=h7f98852_1007
      - xz=5.2.5=h516909a_1
      - yaml=0.2.5=h516909a_0
      - yarl=1.6.3=py37h5e8e339_2
      - zarr=2.8.3=pyhd8ed1ab_0
      - zeromq=4.3.4=h9c3ff4c_0
      - zict=2.0.0=py_0
      - zipp=3.5.0=pyhd8ed1ab_0
      - zlib=1.2.11=h516909a_1010
      - zstd=1.4.9=ha95c52a_0
      - pip:
        - argcomplete==1.12.3
        - biopython==1.79
        - boto==2.49.0
        - cached-property==1.5.2
        - crcmod==1.7
        - gcs-oauth2-boto-plugin==2.7
        - google-apitools==0.5.32
        - google-reauth==0.1.1
        - gsutil==4.65
        - httplib2==0.19.1
        - malariagen-data==0.8.0
        - mock==2.0.0
        - oauth2client==4.1.3
        - pbr==5.6.0
        - prettypandas==0.0.4
        - retry-decorator==1.1.1
        - scikit-allel==1.3.5

```



